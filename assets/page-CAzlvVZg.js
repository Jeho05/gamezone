import{r as u,i as fe}from"./react-vendor-DYp0RFF0.js";import{j as e}from"./ui-vendor-DAbCkwHz.js";import{R as ge}from"./layout-BhjoAR2P.js";import{C as r}from"./PolymorphicComponent-kLkD8TKY.js";import{N as ye,S as Z,C as Q}from"./Navigation-KwyceX57.js";import{I as je}from"./ImageUpload-B85DZXvf.js";import{A as g}from"./apiBase-uKT1-15E.js";import{t}from"./index-ISQCChad.js";import{c as ee}from"./createLucideIcon-BuqtEc0O.js";import{C as G}from"./credit-card-3nRlIJtW.js";import{G as D}from"./gamepad-2-tiPnzinq.js";import{S as Ie}from"./search-CAxAN3oF.js";import{P as S}from"./plus-zZxjsRdV.js";import{T as ve}from"./trash-2-B07JEQoB.js";import{C as Ne}from"./circle-check-big-cyHuzEaZ.js";import"./index-Birp5Yjg.js";import"./gamepad-DUfdRHsM.js";import"./users-CFhMAaaJ.js";import"./star-COodYRQY.js";import"./sparkles-CYj8vm4n.js";import"./trophy-i2KwZb7z.js";import"./x-B8NaV6qa.js";import"./loader-Cr32-Mw4.js";import"./upload-8JwPWBUH.js";import"./image-BOnWED8j.js";if(typeof window<"u"){const c={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const x=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},c,x),{get(a,p){return p in a?a[p]:void 0},has(){return!0}})}const Y=ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);if(typeof window<"u"){const c={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const x=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},c,x),{get(a,p){return p in a?a[p]:void 0},has(){return!0}})}const _e=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);if(typeof window<"u"){const c={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const x=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},c,x),{get(a,p){return p in a?a[p]:void 0},has(){return!0}})}function we({isOpen:c,onClose:x,editingPackage:a,games:p,onSuccess:h}){const[i,v]=u.useState({game_id:"",name:"",duration_minutes:60,price:0,original_price:"",points_earned:0,bonus_multiplier:1,is_promotional:!1,promotional_label:"",max_purchases_per_user:"",is_active:!0,display_order:0}),[N,y]=u.useState(!1);u.useEffect(()=>{v(a?{game_id:a.game_id||"",name:a.name||"",duration_minutes:a.duration_minutes||60,price:parseFloat(a.price)||0,original_price:a.original_price||"",points_earned:parseFloat(a.points_earned)||0,bonus_multiplier:parseFloat(a.bonus_multiplier)||1,is_promotional:a.is_promotional==1,promotional_label:a.promotional_label||"",max_purchases_per_user:a.max_purchases_per_user||"",is_active:a.is_active==1,display_order:a.display_order||0}:{game_id:p[0]?.id||"",name:"",duration_minutes:60,price:0,original_price:"",points_earned:0,bonus_multiplier:1,is_promotional:!1,promotional_label:"",max_purchases_per_user:"",is_active:!0,display_order:0})},[a,p,c]);const j=(d,b)=>{v(f=>({...f,[d]:b}))},o=async d=>{if(d.preventDefault(),!i.game_id||!i.name||!i.duration_minutes||!i.price){t.error("Veuillez remplir tous les champs requis");return}try{y(!0);const b={...i,original_price:i.original_price||null,max_purchases_per_user:i.max_purchases_per_user||null};a&&(b.id=a.id);const F=await(await fetch(`${g}/admin/game_packages.php`,{method:a?"PUT":"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)})).json();F.success?(t.success(a?"Package mis à jour !":"Package créé !"),await new Promise(q=>setTimeout(q,300)),h(),x()):t.error(F.error||"Erreur lors de l'enregistrement")}catch(b){t.error("Erreur de connexion"),console.error(b)}finally{y(!1)}};return c?e.jsx(r,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",renderId:"render-8ff4955d",as:"div",children:e.jsxs(r,{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",renderId:"render-bbacef5f",as:"div",children:[e.jsxs(r,{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",renderId:"render-a1d7ff6c",as:"div",children:[e.jsxs(r,{className:"text-2xl font-bold text-purple-600 flex items-center gap-2",renderId:"render-7c9c8a95",as:"h2",children:[e.jsx(Y,{className:"w-6 h-6"}),a?"Modifier le Package":"Nouveau Package"]}),e.jsx(r,{onClick:x,className:"text-gray-500 hover:text-gray-700 text-2xl",renderId:"render-0843e805",as:"button",children:"×"})]}),e.jsxs(r,{onSubmit:o,className:"p-6",renderId:"render-06a1138b",as:"form",children:[e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",renderId:"render-c9c9b3af",as:"div",children:[e.jsxs(r,{className:"md:col-span-2",renderId:"render-e2bc5d8c",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-fe7a8b8e",as:"label",children:"Jeu *"}),e.jsxs(r,{value:i.game_id,onChange:d=>j("game_id",d.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,renderId:"render-830a1200",as:"select",children:[e.jsx(r,{value:"",renderId:"render-b267835f",as:"option",children:"Sélectionnez un jeu"}),p.map(d=>e.jsx(r,{value:d.id,renderId:"render-ffbd57e0",as:"option",children:d.name},d.id))]})]}),e.jsxs(r,{className:"md:col-span-2",renderId:"render-6c1476d7",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-7b15bfb3",as:"label",children:"Nom du Package *"}),e.jsx(r,{type:"text",value:i.name,onChange:d=>j("name",d.target.value),placeholder:"Ex: Standard 1h",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,renderId:"render-295c9446",as:"input"})]}),e.jsxs(r,{renderId:"render-babb0e26",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-46b7adfd",as:"label",children:"Durée (minutes) *"}),e.jsx(r,{type:"number",value:i.duration_minutes,onChange:d=>j("duration_minutes",parseInt(d.target.value)),min:"1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,renderId:"render-5f23a814",as:"input"})]}),e.jsxs(r,{renderId:"render-45dfd437",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-01b908ec",as:"label",children:"Prix (XOF) *"}),e.jsx(r,{type:"number",value:i.price,onChange:d=>j("price",parseFloat(d.target.value)),min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,renderId:"render-1f96441a",as:"input"})]}),e.jsxs(r,{renderId:"render-8c62914e",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-afb3b0bb",as:"label",children:"Prix Original (Promo)"}),e.jsx(r,{type:"number",value:i.original_price,onChange:d=>j("original_price",d.target.value),min:"0",step:"0.01",placeholder:"Pour afficher une réduction",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-14960c13",as:"input"})]}),e.jsxs(r,{renderId:"render-d0a1b861",as:"div",children:[e.jsxs(r,{className:"block text-sm font-semibold mb-2",renderId:"render-225be890",as:"label",children:["Points Gagnés",e.jsx(r,{className:"text-xs text-gray-500 ml-2",renderId:"render-dc91cb34",as:"span",children:"(Auto-calculés par temps réel)"})]}),e.jsx(r,{type:"number",value:i.points_earned,onChange:d=>j("points_earned",parseFloat(d.target.value)),className:"w-full px-4 py-2 border rounded-lg bg-gray-50",disabled:!0,title:"Les points sont calculés automatiquement: (durée/60) × points_per_hour du jeu",renderId:"render-7c915be3",as:"input"}),e.jsx(r,{className:"text-xs text-gray-500 mt-1",renderId:"render-6ce147f2",as:"p",children:"Note : Les points réels dépendent du temps joué"})]}),e.jsxs(r,{renderId:"render-465795ef",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-ccf0b510",as:"label",children:"Multiplicateur Bonus"}),e.jsx(r,{type:"number",value:i.bonus_multiplier,onChange:d=>j("bonus_multiplier",parseFloat(d.target.value)),min:"1.0",step:"0.1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-3e349218",as:"input"})]}),e.jsxs(r,{renderId:"render-8ee0db0e",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-4ea16aa8",as:"label",children:"Max Achats/Utilisateur"}),e.jsx(r,{type:"number",value:i.max_purchases_per_user,onChange:d=>j("max_purchases_per_user",d.target.value),min:"1",placeholder:"Illimité si vide",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-c4d64c82",as:"input"})]}),e.jsxs(r,{renderId:"render-353b6ff0",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-c58d2ae6",as:"label",children:"Ordre d'Affichage"}),e.jsx(r,{type:"number",value:i.display_order,onChange:d=>j("display_order",parseInt(d.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-1f750a35",as:"input"})]}),e.jsx(r,{className:"md:col-span-2",renderId:"render-d2980c0b",as:"div",children:e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-67761eb6",as:"label",children:[e.jsx(r,{type:"checkbox",checked:i.is_promotional,onChange:d=>j("is_promotional",d.target.checked),className:"w-4 h-4",renderId:"render-4d18b9db",as:"input"}),e.jsx(r,{className:"text-sm font-semibold",renderId:"render-0f8f1bec",as:"span",children:"Package Promotionnel"})]})}),i.is_promotional&&e.jsxs(r,{className:"md:col-span-2",renderId:"render-68815085",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-8f1594de",as:"label",children:"Label Promotionnel"}),e.jsx(r,{type:"text",value:i.promotional_label,onChange:d=>j("promotional_label",d.target.value),placeholder:"Ex: ⭐ POPULAIRE, 🔥 PROMO -20%",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-3d3779a7",as:"input"})]}),e.jsx(r,{className:"md:col-span-2",renderId:"render-8fae0ba4",as:"div",children:e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-65596266",as:"label",children:[e.jsx(r,{type:"checkbox",checked:i.is_active,onChange:d=>j("is_active",d.target.checked),className:"w-4 h-4",renderId:"render-3f5811f4",as:"input"}),e.jsx(r,{className:"text-sm font-semibold",renderId:"render-3023d8d0",as:"span",children:"Package Actif"})]})})]}),e.jsxs(r,{className:"flex gap-3 mt-6",renderId:"render-bd48fc9b",as:"div",children:[e.jsx(r,{type:"button",onClick:x,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold",disabled:N,renderId:"render-742cc9e6",as:"button",children:"Annuler"}),e.jsx(r,{type:"submit",className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold disabled:opacity-50",disabled:N,renderId:"render-b1ac3a8a",as:"button",children:N?a?"Mise à jour...":"Création...":a?"Mettre à Jour":"Créer le Package"})]})]})]})}):null}if(typeof window<"u"){const c={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const x=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},c,x),{get(a,p){return p in a?a[p]:void 0},has(){return!0}})}function Ce({isOpen:c,onClose:x,editingPayment:a,onSuccess:p}){const[h,i]=u.useState({name:"",slug:"",description:"",provider:"manual",fee_percentage:0,fee_fixed:0,is_active:!0,auto_confirm:!1,requires_online_payment:!1,display_order:0}),[v,N]=u.useState(!1);u.useEffect(()=>{i(a?{name:a.name||"",slug:a.slug||"",description:a.description||"",provider:a.provider||"manual",fee_percentage:parseFloat(a.fee_percentage)||0,fee_fixed:parseFloat(a.fee_fixed)||0,is_active:a.is_active==1,auto_confirm:a.auto_confirm==1,requires_online_payment:a.requires_online_payment==1,display_order:a.display_order||0}:{name:"",slug:"",description:"",provider:"manual",fee_percentage:0,fee_fixed:0,is_active:!0,auto_confirm:!1,requires_online_payment:!1,display_order:0})},[a,c]);const y=(o,d)=>{if(i(b=>({...b,[o]:d})),o==="name"&&!a&&!h.slug){const b=d.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");i(f=>({...f,slug:b}))}},j=async o=>{if(o.preventDefault(),!h.name||!h.slug){t.error("Le nom et le slug sont requis");return}try{N(!0);const d={...h,is_active:h.is_active?1:0,auto_confirm:h.auto_confirm?1:0,requires_online_payment:h.requires_online_payment?1:0};a&&(d.id=a.id);const b=await fetch(`${g}/admin/payment_methods_simple.php`,{method:a?"PUT":"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),f=await b.json();f.success||b.ok?(t.success(a?"Méthode mise à jour !":"Méthode créée !"),p(),x()):(t.error(f.error||"Erreur lors de l'enregistrement"),console.error("API Error:",f))}catch(d){t.error("Erreur de connexion: "+d.message),console.error("Connection Error:",d)}finally{N(!1)}};return c?e.jsx(r,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",renderId:"render-02ad9787",as:"div",children:e.jsxs(r,{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",renderId:"render-6b43bf40",as:"div",children:[e.jsxs(r,{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",renderId:"render-881c1cca",as:"div",children:[e.jsxs(r,{className:"text-2xl font-bold text-purple-600 flex items-center gap-2",renderId:"render-8196b14b",as:"h2",children:[e.jsx(G,{className:"w-6 h-6"}),a?"Modifier la Méthode":"Nouvelle Méthode de Paiement"]}),e.jsx(r,{onClick:x,className:"text-gray-500 hover:text-gray-700 text-2xl",renderId:"render-50a667dd",as:"button",children:"×"})]}),e.jsxs(r,{onSubmit:j,className:"p-6",renderId:"render-30d3992c",as:"form",children:[e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",renderId:"render-6f93b9ab",as:"div",children:[e.jsxs(r,{renderId:"render-9c7c3201",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-ec7a13ac",as:"label",children:"Nom *"}),e.jsx(r,{type:"text",value:h.name,onChange:o=>y("name",o.target.value),placeholder:"Ex: Orange Money, Wave, Espèces",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,renderId:"render-b65a4086",as:"input"})]}),e.jsxs(r,{renderId:"render-2d42bc10",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-ac531172",as:"label",children:"Slug (identifiant) *"}),e.jsx(r,{type:"text",value:h.slug,onChange:o=>y("slug",o.target.value),placeholder:"orange-money",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,renderId:"render-ffa3f1c6",as:"input"}),e.jsx(r,{className:"text-xs text-gray-500 mt-1",renderId:"render-501a53a0",as:"p",children:"Auto-généré depuis le nom"})]}),e.jsxs(r,{className:"md:col-span-2",renderId:"render-dc4dbfe0",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-1c5f4f50",as:"label",children:"Description"}),e.jsx(r,{value:h.description,onChange:o=>y("description",o.target.value),placeholder:"Instructions pour le paiement...",rows:"3",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-cf52ec78",as:"textarea"})]}),e.jsxs(r,{renderId:"render-ea9fb63f",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-e4c061d7",as:"label",children:"Fournisseur"}),e.jsxs(r,{value:h.provider,onChange:o=>y("provider",o.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-b57581a8",as:"select",children:[e.jsx(r,{value:"manual",renderId:"render-008ed4ba",as:"option",children:"Manuel"}),e.jsx(r,{value:"orange_money",renderId:"render-37d357a1",as:"option",children:"Orange Money"}),e.jsx(r,{value:"wave",renderId:"render-ce0bff16",as:"option",children:"Wave"}),e.jsx(r,{value:"moov_money",renderId:"render-e6f50cc4",as:"option",children:"Moov Money"}),e.jsx(r,{value:"mtn_momo",renderId:"render-918501bf",as:"option",children:"MTN Mobile Money"}),e.jsx(r,{value:"cash",renderId:"render-ae97374c",as:"option",children:"Espèces"}),e.jsx(r,{value:"bank_transfer",renderId:"render-b5c824ed",as:"option",children:"Virement Bancaire"})]})]}),e.jsxs(r,{renderId:"render-d1fda87c",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-4fb9112f",as:"label",children:"Ordre d'Affichage"}),e.jsx(r,{type:"number",value:h.display_order,onChange:o=>y("display_order",parseInt(o.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-fd0d357d",as:"input"})]}),e.jsxs(r,{renderId:"render-52090fca",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-7112cec7",as:"label",children:"Frais (%)"}),e.jsx(r,{type:"number",value:h.fee_percentage,onChange:o=>y("fee_percentage",parseFloat(o.target.value)),min:"0",step:"0.1",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-6222da83",as:"input"})]}),e.jsxs(r,{renderId:"render-95db0ce7",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-a7516a56",as:"label",children:"Frais Fixes (XOF)"}),e.jsx(r,{type:"number",value:h.fee_fixed,onChange:o=>y("fee_fixed",parseFloat(o.target.value)),min:"0",step:"0.01",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-906c0b6c",as:"input"})]}),e.jsxs(r,{className:"md:col-span-2 space-y-3",renderId:"render-cb51bd90",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-24e9c024",as:"label",children:[e.jsx(r,{type:"checkbox",checked:h.is_active,onChange:o=>y("is_active",o.target.checked),className:"w-4 h-4",renderId:"render-3ed510be",as:"input"}),e.jsx(r,{className:"text-sm font-semibold",renderId:"render-9e874777",as:"span",children:"Méthode Active"})]}),e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-37e532e4",as:"label",children:[e.jsx(r,{type:"checkbox",checked:h.auto_confirm,onChange:o=>y("auto_confirm",o.target.checked),className:"w-4 h-4",renderId:"render-43b62044",as:"input"}),e.jsx(r,{className:"text-sm font-semibold",renderId:"render-7dc96afc",as:"span",children:"Confirmation Automatique"})]}),e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-19c27ea3",as:"label",children:[e.jsx(r,{type:"checkbox",checked:h.requires_online_payment,onChange:o=>y("requires_online_payment",o.target.checked),className:"w-4 h-4",renderId:"render-19712658",as:"input"}),e.jsx(r,{className:"text-sm font-semibold",renderId:"render-e8d6eecb",as:"span",children:"Paiement en Ligne Requis"})]})]})]}),e.jsx(r,{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",renderId:"render-ac564948",as:"div",children:e.jsxs(r,{className:"text-sm text-blue-800",renderId:"render-68426ee2",as:"p",children:[e.jsx(r,{renderId:"render-720a7831",as:"strong",children:"💡 Astuce :"})," Les frais seront ajoutés au prix final. Exemple : Prix 1000 XOF + 2% + 50 XOF = 1070 XOF total."]})}),e.jsxs(r,{className:"flex gap-3 mt-6",renderId:"render-32408e1b",as:"div",children:[e.jsx(r,{type:"button",onClick:x,className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold",disabled:v,renderId:"render-bedfba2e",as:"button",children:"Annuler"}),e.jsx(r,{type:"submit",className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold disabled:opacity-50",disabled:v,renderId:"render-7f43fcf2",as:"button",children:v?a?"Mise à jour...":"Création...":a?"Mettre à Jour":"Créer la Méthode"})]})]})]})}):null}if(typeof window<"u"){const c={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const x=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},c,x),{get(a,p){return p in a?a[p]:void 0},has(){return!0}})}function ke(){const[c,x]=u.useState("games"),[a,p]=u.useState([]),[h,i]=u.useState([]),[v,N]=u.useState([]),[y,j]=u.useState([]),[o,d]=u.useState([]),[b,f]=u.useState(!1),[F,q]=u.useState(""),[re,k]=u.useState(!1),[A,P]=u.useState(null),[se,L]=u.useState(!1),[ae,z]=u.useState(null),[ne,O]=u.useState(!1),[te,B]=u.useState(null),[Ae,Pe]=u.useState({game_id:"",name:"",duration_minutes:60,price:0,original_price:null,points_earned:0,bonus_multiplier:1,is_promotional:!1,promotional_label:"",max_purchases_per_user:null,is_active:!0,display_order:0}),[Ee,Se]=u.useState({name:"",description:"",provider:"manual",fee_percentage:0,fee_fixed:0,is_active:!0,auto_confirm:!1,requires_online_payment:!1,display_order:0}),[m,_]=u.useState({name:"",slug:"",description:"",short_description:"",image_url:"",thumbnail_url:"",category:"action",platform:"",min_players:1,max_players:1,age_rating:"",points_per_hour:10,base_price:0,is_reservable:!1,reservation_fee:0,is_featured:!1}),[U,$]=u.useState(!1),w=s=>{const n=Number(s??0);try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(n)}catch{return`${n.toLocaleString("fr-FR")} XOF`}},T=async()=>{try{f(!0),console.log("🔄 Chargement des réservations...");const n=await(await fetch(`${g}/admin/reservations.php`,{credentials:"include"})).json();console.log("📅 Réservations reçues:",n),n.reservations?(d(n.reservations),console.log("✅ Réservations chargées:",n.reservations.length)):console.log("⚠️ Aucune réservation dans la réponse")}catch(s){console.error("❌ Erreur chargement réservations:",s),t.error("Erreur chargement réservations")}finally{f(!1)}},de=async s=>{if(confirm("Confirmer cette réservation ? Le paiement sera validé."))try{const l=await(await fetch(`${g}/admin/reservations.php`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,action:"confirm"})})).json();l.success?(t.success("Réservation confirmée avec succès"),T()):t.error(l.error||"Erreur lors de la confirmation")}catch(n){console.error("Erreur confirmation réservation:",n),t.error("Erreur lors de la confirmation")}},H=async s=>{if(confirm("Annuler cette réservation ?"))try{const l=await(await fetch(`${g}/admin/reservations.php`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,action:"cancel"})})).json();l.success?(t.success("Réservation annulée"),T()):t.error(l.error||"Erreur lors de l'annulation")}catch(n){console.error("Erreur annulation réservation:",n),t.error("Erreur lors de l'annulation")}},le=async s=>{if(confirm("Marquer cette réservation comme complétée ?"))try{const l=await(await fetch(`${g}/admin/reservations.php`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,action:"mark_completed"})})).json();l.success?(t.success("Réservation marquée comme complétée"),T()):t.error(l.error||"Erreur")}catch(n){console.error("Erreur:",n),t.error("Erreur")}},ce=async s=>{if(confirm("Marquer cette réservation comme no-show ?"))try{const l=await(await fetch(`${g}/admin/reservations.php`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,action:"mark_no_show"})})).json();l.success?(t.success("Marqué comme no-show"),T()):t.error(l.error||"Erreur")}catch(n){console.error("Erreur:",n),t.error("Erreur")}},E=s=>Number(s??0).toLocaleString("fr-FR"),J=s=>s?new Date(s).toLocaleString("fr-FR"):"—",M={name:"",slug:"",description:"",short_description:"",image_url:"",thumbnail_url:"",category:"action",platform:"",min_players:1,max_players:1,age_rating:"",points_per_hour:10,base_price:0,is_reservable:!1,reservation_fee:0,is_featured:!1};u.useEffect(()=>{console.log("🔀 Onglet actif changé:",c),c==="games"&&X(),c==="packages"&&R(),c==="payment-methods"&&K(),c==="purchases"&&V(),c==="reservations"&&T()},[c]);const X=async()=>{try{f(!0);const n=await(await fetch(`${g}/admin/games.php`,{credentials:"include"})).json();n.games&&p(n.games)}catch{t.error("Erreur chargement jeux")}finally{f(!1)}},R=async()=>{try{f(!0),console.log("🔄 Chargement des packages...");const n=await(await fetch(`${g}/admin/game_packages.php?t=${Date.now()}`,{credentials:"include",cache:"no-cache"})).json();console.log("📦 Packages reçus:",n),n.packages?(i(n.packages),console.log("✅ Packages chargés:",n.packages.length)):console.log("⚠️ Aucun package dans la réponse")}catch(s){console.error("❌ Erreur chargement packages:",s),t.error("Erreur chargement packages")}finally{f(!1)}},K=async()=>{try{f(!0),console.log("🔄 Chargement des méthodes de paiement...");const n=await(await fetch(`${g}/admin/payment_methods_simple.php`,{credentials:"include"})).json();console.log("💳 Méthodes de paiement reçues:",n),n.payment_methods?(N(n.payment_methods),console.log("✅ Méthodes chargées:",n.payment_methods.length)):console.log("⚠️ Aucune méthode dans la réponse")}catch(s){console.error("❌ Erreur chargement méthodes paiement:",s),t.error("Erreur chargement méthodes paiement")}finally{f(!1)}},V=async()=>{try{f(!0),console.log("🔄 Chargement des achats...");const n=await(await fetch(`${g}/admin/purchases.php`,{credentials:"include"})).json();console.log("🛒 Achats reçus:",n),n.purchases?(j(n.purchases),console.log("✅ Achats chargés:",n.purchases.length)):console.log("⚠️ Aucun achat dans la réponse")}catch(s){console.error("❌ Erreur chargement achats:",s),t.error("Erreur chargement achats")}finally{f(!1)}},oe=async s=>{if(confirm("Confirmer ce paiement ?"))try{const l=await(await fetch(`${g}/admin/purchases.php`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,action:"confirm_payment"})})).json();l.success?(t.success("Paiement confirmé avec succès"),V()):t.error(l.error||"Erreur lors de la confirmation")}catch{t.error("Erreur lors de la confirmation")}},ie=async s=>{if(confirm("Supprimer ce jeu ? Cette action est irréversible."))try{const l=await(await fetch(`${g}/admin/games.php?id=${s}`,{method:"DELETE",credentials:"include"})).json();l.success?(t.success("Jeu supprimé avec succès"),X()):t.error(l.error||"Erreur lors de la suppression")}catch{t.error("Erreur lors de la suppression")}},pe=async s=>{if(confirm("Supprimer ce package ?"))try{const l=await(await fetch(`${g}/admin/game_packages.php?id=${s}`,{method:"DELETE",credentials:"include"})).json();l.success?(t.success("Package supprimé avec succès"),R()):t.error(l.error||"Erreur lors de la suppression")}catch{t.error("Erreur lors de la suppression")}},me=async s=>{if(confirm("Supprimer cette méthode de paiement ?"))try{const l=await(await fetch(`${g}/admin/payment_methods_simple.php?id=${s}`,{method:"DELETE",credentials:"include"})).json();l.success?(t.success("Méthode supprimée avec succès"),K()):t.error(l.error||"Erreur lors de la suppression")}catch{t.error("Erreur lors de la suppression")}},I=(s,n)=>{if(_(l=>({...l,[s]:n})),s==="name"&&!A&&!m.slug){const l=n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");_(C=>({...C,slug:l}))}},W=()=>{P(null),_(M),k(!0)},ue=s=>{P(s),_({name:s.name||"",slug:s.slug||"",description:s.description||"",short_description:s.short_description||"",image_url:s.image_url||"",thumbnail_url:s.thumbnail_url||"",category:s.category||"action",platform:s.platform||"",min_players:s.min_players||1,max_players:s.max_players||1,age_rating:s.age_rating||"",points_per_hour:s.points_per_hour||10,base_price:parseFloat(s.base_price)||0,is_reservable:s.is_reservable==1,reservation_fee:parseFloat(s.reservation_fee)||0,is_featured:s.is_featured==1}),k(!0)},xe=async s=>{if(s.preventDefault(),!m.name){t.error("Le nom du jeu est requis");return}const n=m.slug||m.name.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");try{$(!0);const C=await(await fetch(`${g}/admin/games.php`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({...m,slug:n})})).json();C.success?(t.success("Jeu créé avec succès !"),k(!1),_(M),P(null),X()):t.error(C.error||"Erreur lors de la création")}catch(l){t.error("Erreur lors de la création du jeu"),console.error(l)}finally{$(!1)}},he=async s=>{if(s.preventDefault(),!m.name){t.error("Le nom du jeu est requis");return}const n=m.slug||m.name.toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");try{$(!0);const C=await(await fetch(`${g}/admin/games.php`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:A.id,...m,slug:n})})).json();C.success?(t.success("Jeu mis à jour avec succès !"),k(!1),_(M),P(null),X()):t.error(C.error||"Erreur lors de la mise à jour")}catch(l){t.error("Erreur lors de la mise à jour du jeu"),console.error(l)}finally{$(!1)}},be=[{id:"games",label:"Jeux",icon:D},{id:"packages",label:"Packages",icon:Y},{id:"payment-methods",label:"Paiements",icon:G},{id:"purchases",label:"Achats",icon:Z},{id:"reservations",label:"Réservations",icon:Q}];return e.jsxs(r,{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900",renderId:"render-7c52a461",as:"div",children:[e.jsx(ye,{userType:"admin"}),e.jsx(r,{className:"lg:pl-64",renderId:"render-131811ba",as:"div",children:e.jsxs(r,{className:"container mx-auto px-4 py-8",renderId:"render-cc3a753b",as:"div",children:[e.jsxs(r,{className:"bg-white rounded-xl shadow-lg p-6 mb-6 text-gray-900",renderId:"render-cdc7455e",as:"div",children:[e.jsxs(r,{className:"text-3xl font-bold text-purple-600 mb-2 flex items-center gap-3",renderId:"render-0b530c67",as:"h1",children:[e.jsx(D,{className:"w-8 h-8"}),"Gestion Boutique de Jeux"]}),e.jsx(r,{className:"text-gray-600",renderId:"render-ede3cfd0",as:"p",children:"Gérez vos jeux, packages et méthodes de paiement"}),e.jsx(r,{className:"flex gap-4 mt-6 border-b",renderId:"render-59398131",as:"div",children:be.map(s=>{const n=s.icon;return e.jsxs(r,{onClick:()=>x(s.id),className:`flex items-center gap-2 px-4 py-2 font-semibold border-b-2 transition-colors ${c===s.id?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-purple-600"}`,renderId:"render-84dd1aa0",as:"button",children:[e.jsx(n,{className:"w-5 h-5"}),s.label]},s.id)})})]}),c==="games"&&e.jsxs(r,{className:"bg-white rounded-xl shadow-lg p-6 text-gray-900",renderId:"render-7f522ed7",as:"div",children:[e.jsxs(r,{className:"flex justify-between items-center mb-6",renderId:"render-b3fbbe9e",as:"div",children:[e.jsxs(r,{className:"relative flex-1 max-w-md",renderId:"render-7dad3035",as:"div",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(r,{type:"text",placeholder:"Rechercher un jeu...",value:F,onChange:s=>q(s.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",renderId:"render-a3e909a7",as:"input"})]}),e.jsxs(r,{onClick:W,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",renderId:"render-3b08a876",as:"button",children:[e.jsx(S,{className:"w-5 h-5"}),"Ajouter Jeu"]})]}),b?e.jsxs(r,{className:"text-center py-12",renderId:"render-9a897585",as:"div",children:[e.jsx(r,{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-purple-600",renderId:"render-7ba0d236",as:"div"}),e.jsx(r,{className:"text-gray-600 mt-4",renderId:"render-a147e2d2",as:"p",children:"Chargement des jeux..."})]}):a.length===0?e.jsxs(r,{className:"text-center py-12",renderId:"render-d7cdd5da",as:"div",children:[e.jsx(D,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx(r,{className:"text-lg font-semibold text-gray-700 mb-2",renderId:"render-cd61615e",as:"h3",children:"Aucun jeu disponible"}),e.jsx(r,{className:"text-gray-500 mb-4",renderId:"render-01c6f374",as:"p",children:"Commencez par créer votre premier jeu"}),e.jsxs(r,{onClick:W,className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",renderId:"render-7ddd2d40",as:"button",children:[e.jsx(S,{className:"w-5 h-5"}),"Créer le Premier Jeu"]})]}):e.jsx(r,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",renderId:"render-63e34678",as:"div",children:a.map(s=>e.jsxs(r,{className:"border rounded-lg overflow-hidden hover:shadow-lg transition-shadow",renderId:"render-d367a551",as:"div",children:[e.jsx(r,{src:s.image_url||"https://via.placeholder.com/400x200",alt:s.name,className:"w-full h-40 object-cover",renderId:"render-a87708dc",as:"img"}),e.jsxs(r,{className:"p-4",renderId:"render-5bf20581",as:"div",children:[e.jsx(r,{className:"font-bold text-lg mb-2",renderId:"render-9ac95dc8",as:"h3",children:s.name}),e.jsx(r,{className:"text-sm text-gray-600 mb-2",renderId:"render-d27e1ebf",as:"p",children:s.short_description}),e.jsxs(r,{className:"flex gap-2 mb-3",renderId:"render-b4a6fe6f",as:"div",children:[e.jsx(r,{className:`px-2 py-1 text-xs rounded ${s.is_active==1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,renderId:"render-2f0736e0",as:"span",children:s.is_active==1?"Actif":"Inactif"}),e.jsx(r,{className:"px-2 py-1 text-xs rounded bg-blue-100 text-blue-700 capitalize",renderId:"render-bc1e1ec2",as:"span",children:s.category}),s.is_reservable==1&&e.jsx(r,{className:"px-2 py-1 text-xs rounded bg-purple-100 text-purple-700",renderId:"render-761c0f31",as:"span",children:"Réservable"})]}),e.jsxs(r,{className:"text-sm mb-3",renderId:"render-8c150bb8",as:"div",children:[e.jsxs(r,{renderId:"render-07c9a350",as:"strong",children:[s.points_per_hour," pts/h"]})," •",e.jsxs(r,{renderId:"render-05ec63e4",as:"strong",children:[" ",s.base_price," XOF/h"]})]}),s.is_reservable==1&&e.jsxs(r,{className:"text-xs text-gray-600 mb-3",renderId:"render-2ea45424",as:"div",children:["Frais de réservation: ",e.jsxs(r,{className:"text-purple-700",renderId:"render-e1326e85",as:"strong",children:[s.reservation_fee," XOF"]})]}),e.jsxs(r,{className:"text-xs text-gray-500 mb-3",renderId:"render-834b926c",as:"div",children:["📦 ",s.active_packages_count||0," packages • 🛒 ",s.total_purchases||0," achats"]}),e.jsxs(r,{className:"flex gap-2",renderId:"render-451c865c",as:"div",children:[e.jsxs(r,{onClick:()=>ue(s),className:"flex-1 bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600",renderId:"render-6d8cf2c1",as:"button",children:[e.jsx(_e,{className:"w-4 h-4 inline-block mr-1"}),"Modifier"]}),e.jsx(r,{onClick:()=>ie(s.id),className:"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600",renderId:"render-a3c10d58",as:"button",children:e.jsx(ve,{className:"w-4 h-4"})})]})]})]},s.id))})]}),c==="packages"&&e.jsxs(r,{className:"bg-white rounded-xl shadow-lg p-6 text-gray-900",renderId:"render-eec4d886",as:"div",children:[e.jsx(r,{className:"flex justify-end mb-6",renderId:"render-ba9a5ad3",as:"div",children:e.jsxs(r,{onClick:()=>{z(null),L(!0)},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",renderId:"render-1e8856e5",as:"button",children:[e.jsx(S,{className:"w-5 h-5"}),"Ajouter Package"]})}),b?e.jsxs(r,{className:"text-center py-12",renderId:"render-fb8e3aa1",as:"div",children:[e.jsx(r,{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-purple-600",renderId:"render-002507d6",as:"div"}),e.jsx(r,{className:"text-gray-600 mt-4",renderId:"render-28b1a9b5",as:"p",children:"Chargement des packages..."})]}):h.length===0?e.jsxs(r,{className:"text-center py-12",renderId:"render-337a8b86",as:"div",children:[e.jsx(Y,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx(r,{className:"text-lg font-semibold text-gray-700 mb-2",renderId:"render-21bfbf0a",as:"h3",children:"Aucun package"}),e.jsx(r,{className:"text-gray-500 mb-4",renderId:"render-c9774a75",as:"p",children:"Commencez par ajouter un package de jeu"}),e.jsxs(r,{onClick:()=>{z(null),L(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",renderId:"render-fa62b6c6",as:"button",children:[e.jsx(S,{className:"w-5 h-5"}),"Ajouter le Premier Package"]})]}):e.jsx(r,{className:"overflow-x-auto",renderId:"render-cf8b6316",as:"div",children:e.jsxs(r,{className:"w-full min-w-[1100px]",renderId:"render-09041c10",as:"table",children:[e.jsx(r,{className:"bg-gray-50",renderId:"render-ece61e7b",as:"thead",children:e.jsxs(r,{renderId:"render-46056ed3",as:"tr",children:[e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-b5a18a89",as:"th",children:"Jeu"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-43b922d6",as:"th",children:"Package"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-9e2866b4",as:"th",children:"Durée"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-2307ed25",as:"th",children:"Prix"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-479c12f1",as:"th",children:"Points"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-201e01f0",as:"th",children:"Achats"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-98f5e3cb",as:"th",children:"Revenus"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-85ba12fa",as:"th",children:"Statut"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-9aaebe38",as:"th",children:"Actions"})]})}),e.jsx(r,{className:"text-gray-900",renderId:"render-93188d9d",as:"tbody",children:h.map(s=>e.jsxs(r,{className:"border-b hover:bg-gray-50 odd:bg-white even:bg-gray-50/60",renderId:"render-7198f872",as:"tr",children:[e.jsx(r,{className:"px-4 py-3 text-sm max-w-[220px]",renderId:"render-9a512dd0",as:"td",children:e.jsx(r,{className:"truncate",title:s.game_name,renderId:"render-8c7ccd59",as:"div",children:s.game_name})}),e.jsx(r,{className:"px-4 py-3 text-sm font-medium max-w-[260px]",renderId:"render-d9bdab9a",as:"td",children:e.jsx(r,{className:"truncate",title:s.name,renderId:"render-aaf10331",as:"div",children:s.name})}),e.jsxs(r,{className:"px-4 py-3 text-sm whitespace-nowrap",renderId:"render-f25e4b5a",as:"td",children:[E(s.duration_minutes)," min"]}),e.jsx(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-eae84c56",as:"td",children:w(s.price)}),e.jsxs(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-d10317fd",as:"td",children:[E(s.points_earned)," pts"]}),e.jsx(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-153e5e3a",as:"td",children:E(s.purchases_count??0)}),e.jsx(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-439ae6ad",as:"td",children:s.revenue!=null?w(s.revenue):"—"}),e.jsx(r,{className:"px-4 py-3",renderId:"render-c76f09b5",as:"td",children:e.jsx(r,{className:`px-2 py-1 text-xs rounded font-medium ${s.is_active==1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,renderId:"render-bba561ad",as:"span",children:s.is_active==1?"Actif":"Inactif"})}),e.jsxs(r,{className:"px-4 py-3 whitespace-nowrap",renderId:"render-34cd9407",as:"td",children:[e.jsx(r,{onClick:()=>{z(s),L(!0)},className:"text-blue-600 hover:underline text-sm mr-3 font-medium",renderId:"render-6d5a7ace",as:"button",children:"Modifier"}),e.jsx(r,{onClick:()=>pe(s.id),className:"text-red-600 hover:underline text-sm font-medium",renderId:"render-8c00f43c",as:"button",children:"Supprimer"})]})]},s.id))})]})})]}),c==="payment-methods"&&e.jsxs(r,{className:"bg-white rounded-xl shadow-lg p-6 text-gray-900",renderId:"render-5484f249",as:"div",children:[e.jsx(r,{className:"flex justify-end mb-6",renderId:"render-1317dbb4",as:"div",children:e.jsxs(r,{onClick:()=>{B(null),O(!0)},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",renderId:"render-fa70f93e",as:"button",children:[e.jsx(S,{className:"w-5 h-5"}),"Ajouter Méthode"]})}),b?e.jsxs(r,{className:"text-center py-12",renderId:"render-ec9d5345",as:"div",children:[e.jsx(r,{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-purple-600",renderId:"render-36135791",as:"div"}),e.jsx(r,{className:"text-gray-600 mt-4",renderId:"render-be765112",as:"p",children:"Chargement des méthodes de paiement..."})]}):v.length===0?e.jsxs(r,{className:"text-center py-12",renderId:"render-b257290a",as:"div",children:[e.jsx(G,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx(r,{className:"text-lg font-semibold text-gray-700 mb-2",renderId:"render-90ea76f0",as:"h3",children:"Aucune méthode de paiement"}),e.jsx(r,{className:"text-gray-500 mb-4",renderId:"render-0e5314e3",as:"p",children:"Ajoutez une première méthode de paiement"}),e.jsxs(r,{onClick:()=>{B(null),O(!0)},className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",renderId:"render-c58bc3f0",as:"button",children:[e.jsx(S,{className:"w-5 h-5"}),"Ajouter la Première Méthode"]})]}):e.jsx(r,{className:"overflow-x-auto",renderId:"render-509c1fe6",as:"div",children:e.jsxs(r,{className:"w-full min-w-[900px]",renderId:"render-29774a7f",as:"table",children:[e.jsx(r,{className:"bg-gray-50",renderId:"render-2bcec360",as:"thead",children:e.jsxs(r,{renderId:"render-f818152c",as:"tr",children:[e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-84373c9c",as:"th",children:"Nom"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-0195bd26",as:"th",children:"Slug"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-ecec8b5b",as:"th",children:"Provider"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-a1b0039f",as:"th",children:"Type"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-5df8313d",as:"th",children:"Frais"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-c4252f5b",as:"th",children:"Statut"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-89e1d819",as:"th",children:"Actions"})]})}),e.jsx(r,{className:"text-gray-900",renderId:"render-25a7d5dc",as:"tbody",children:v.map(s=>e.jsxs(r,{className:"border-b hover:bg-gray-50 odd:bg-white even:bg-gray-50/60",renderId:"render-0afa96e1",as:"tr",children:[e.jsx(r,{className:"px-4 py-3 text-sm font-medium max-w-[240px]",renderId:"render-a02d03fa",as:"td",children:e.jsx(r,{className:"truncate",title:s.name,renderId:"render-9ba94e69",as:"div",children:s.name})}),e.jsx(r,{className:"px-4 py-3 text-sm text-gray-600 whitespace-nowrap",renderId:"render-23aaa950",as:"td",children:s.slug||"—"}),e.jsx(r,{className:"px-4 py-3 text-sm",renderId:"render-be33377c",as:"td",children:s.provider||"N/A"}),e.jsx(r,{className:"px-4 py-3 text-sm",renderId:"render-76e20d87",as:"td",children:s.requires_online_payment?"🌐 En ligne":"🏪 Sur place"}),e.jsxs(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-724533bc",as:"td",children:[E(s.fee_percentage??0),"% + ",w(s.fee_fixed??0)]}),e.jsx(r,{className:"px-4 py-3",renderId:"render-6ff669cb",as:"td",children:e.jsx(r,{className:`px-2 py-1 text-xs rounded font-medium ${s.is_active==1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,renderId:"render-469e41fc",as:"span",children:s.is_active==1?"Actif":"Inactif"})}),e.jsxs(r,{className:"px-4 py-3 whitespace-nowrap",renderId:"render-7d4ab588",as:"td",children:[e.jsx(r,{onClick:()=>{B(s),O(!0)},className:"text-blue-600 hover:underline text-sm mr-3 font-medium",renderId:"render-c52572ae",as:"button",children:"Modifier"}),e.jsx(r,{onClick:()=>me(s.id),className:"text-red-600 hover:underline text-sm font-medium",renderId:"render-f8579dc6",as:"button",children:"Supprimer"})]})]},s.id))})]})})]}),c==="purchases"&&e.jsx(r,{className:"bg-white rounded-xl shadow-lg p-6 text-gray-900",renderId:"render-906c4ed7",as:"div",children:b?e.jsxs(r,{className:"text-center py-12",renderId:"render-86cc19d7",as:"div",children:[e.jsx(r,{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-purple-600",renderId:"render-c4f799be",as:"div"}),e.jsx(r,{className:"text-gray-600 mt-4",renderId:"render-1d545645",as:"p",children:"Chargement des achats..."})]}):y.length===0?e.jsxs(r,{className:"text-center py-12",renderId:"render-4462f7d4",as:"div",children:[e.jsx(Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx(r,{className:"text-lg font-semibold text-gray-700 mb-2",renderId:"render-096e28bf",as:"h3",children:"Aucun achat"}),e.jsx(r,{className:"text-gray-500",renderId:"render-cacbd13a",as:"p",children:"Les achats des joueurs apparaîtront ici"})]}):e.jsx(r,{className:"overflow-x-auto",renderId:"render-8a054742",as:"div",children:e.jsxs(r,{className:"w-full min-w-[1000px]",renderId:"render-561bc378",as:"table",children:[e.jsx(r,{className:"bg-gray-50",renderId:"render-ae1d9f45",as:"thead",children:e.jsxs(r,{renderId:"render-2f947c9e",as:"tr",children:[e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-721e2bb7",as:"th",children:"Utilisateur"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-7d076ba2",as:"th",children:"Jeu"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-cc88ef53",as:"th",children:"Durée"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-9af56c9c",as:"th",children:"Prix"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-3c2ce239",as:"th",children:"Méthode"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-05f46dd8",as:"th",children:"Paiement"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-878f8155",as:"th",children:"Date"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-8661fd04",as:"th",children:"Actions"})]})}),e.jsx(r,{className:"text-gray-900",renderId:"render-3acbcbe6",as:"tbody",children:y.map(s=>e.jsxs(r,{className:"border-b hover:bg-gray-50 odd:bg-white even:bg-gray-50/60",renderId:"render-6170d48b",as:"tr",children:[e.jsx(r,{className:"px-4 py-3 text-sm font-medium max-w-[220px]",renderId:"render-600679e2",as:"td",children:e.jsx(r,{className:"truncate",title:s.username,renderId:"render-2edf70b6",as:"div",children:s.username})}),e.jsx(r,{className:"px-4 py-3 text-sm max-w-[260px]",renderId:"render-9c2c9f7a",as:"td",children:e.jsx(r,{className:"truncate",title:s.game_name,renderId:"render-3aa415ee",as:"div",children:s.game_name})}),e.jsxs(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-6ea84cb0",as:"td",children:[E(s.duration_minutes)," min"]}),e.jsx(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-fe6362e5",as:"td",children:w(s.price)}),e.jsx(r,{className:"px-4 py-3 text-sm whitespace-nowrap",renderId:"render-25b697d5",as:"td",children:s.payment_method_name||"—"}),e.jsx(r,{className:"px-4 py-3",renderId:"render-370668b0",as:"td",children:e.jsx(r,{className:`px-2 py-1 text-xs rounded font-medium ${s.payment_status==="completed"?"bg-green-100 text-green-700":s.payment_status==="failed"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,renderId:"render-f55ce5e4",as:"span",children:s.payment_status})}),e.jsx(r,{className:"px-4 py-3 text-sm whitespace-nowrap",renderId:"render-48389048",as:"td",children:J(s.created_at)}),e.jsx(r,{className:"px-4 py-3",renderId:"render-e29a7f13",as:"td",children:s.payment_status==="pending"&&e.jsxs(r,{onClick:()=>oe(s.id),className:"text-green-600 hover:underline text-sm flex items-center gap-1 font-medium",renderId:"render-1b52c74a",as:"button",children:[e.jsx(Ne,{className:"w-4 h-4"}),"Confirmer"]})})]},s.id))})]})})})]})}),c==="reservations"&&e.jsx(r,{className:"bg-white rounded-xl shadow-lg p-6 text-gray-900",renderId:"render-b283f720",as:"div",children:b?e.jsxs(r,{className:"text-center py-12",renderId:"render-3b5a11bf",as:"div",children:[e.jsx(r,{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-purple-600",renderId:"render-a808bb4a",as:"div"}),e.jsx(r,{className:"text-gray-600 mt-4",renderId:"render-240aa86d",as:"p",children:"Chargement des réservations..."})]}):o.length===0?e.jsxs(r,{className:"text-center py-12",renderId:"render-5f39fe79",as:"div",children:[e.jsx(Q,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx(r,{className:"text-lg font-semibold text-gray-700 mb-2",renderId:"render-551592d7",as:"h3",children:"Aucune réservation"}),e.jsx(r,{className:"text-gray-500",renderId:"render-8f807b56",as:"p",children:"Les réservations des joueurs apparaîtront ici"})]}):e.jsx(r,{className:"overflow-x-auto",renderId:"render-72d8bc2e",as:"div",children:e.jsxs(r,{className:"w-full min-w-[1150px]",renderId:"render-beb6e13d",as:"table",children:[e.jsx(r,{className:"bg-gray-50",renderId:"render-771f252c",as:"thead",children:e.jsxs(r,{renderId:"render-71c162f6",as:"tr",children:[e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-04fae4b0",as:"th",children:"Utilisateur"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-04a5d083",as:"th",children:"Jeu"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-52b13a11",as:"th",children:"Début"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-4e7bfbec",as:"th",children:"Fin"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-eaf351fe",as:"th",children:"Durée"}),e.jsx(r,{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 sticky top-0 bg-gray-50 z-10",renderId:"render-f801854c",as:"th",children:"Statut"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-2e24d5d1",as:"th",children:"Prix"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-82d77b13",as:"th",children:"Frais"}),e.jsx(r,{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-ae51600c",as:"th",children:"Total"}),e.jsx(r,{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700 whitespace-nowrap sticky top-0 bg-gray-50 z-10",renderId:"render-4fbbc2ef",as:"th",children:"Actions"})]})}),e.jsx(r,{className:"text-gray-900",renderId:"render-d807a50b",as:"tbody",children:o.map(s=>e.jsxs(r,{className:"border-b hover:bg-gray-50 odd:bg-white even:bg-gray-50/60",renderId:"render-0d6d40af",as:"tr",children:[e.jsx(r,{className:"px-4 py-3 text-sm font-medium max-w-[220px]",renderId:"render-9e05bc43",as:"td",children:e.jsx(r,{className:"truncate",title:s.username,renderId:"render-69442a45",as:"div",children:s.username})}),e.jsx(r,{className:"px-4 py-3 text-sm max-w-[260px]",renderId:"render-a85f79a0",as:"td",children:e.jsx(r,{className:"truncate",title:s.game_name,renderId:"render-44c03cee",as:"div",children:s.game_name})}),e.jsx(r,{className:"px-4 py-3 text-sm whitespace-nowrap",renderId:"render-fc0c8225",as:"td",children:J(s.scheduled_start)}),e.jsx(r,{className:"px-4 py-3 text-sm whitespace-nowrap",renderId:"render-28c66603",as:"td",children:J(s.scheduled_end)}),e.jsxs(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-aecd9598",as:"td",children:[E(s.duration_minutes)," min"]}),e.jsx(r,{className:"px-4 py-3",renderId:"render-5c006523",as:"td",children:e.jsx(r,{className:`px-2 py-1 text-xs rounded font-medium ${s.status==="paid"?"bg-green-100 text-green-700":s.status==="cancelled"?"bg-red-100 text-red-700":s.status==="no_show"?"bg-gray-200 text-gray-700":"bg-yellow-100 text-yellow-700"}`,renderId:"render-c871899f",as:"span",children:s.status})}),e.jsx(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-a5bcf944",as:"td",children:w(s.base_price)}),e.jsx(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-070aa7fb",as:"td",children:w(s.reservation_fee)}),e.jsx(r,{className:"px-4 py-3 text-sm text-right whitespace-nowrap",renderId:"render-fa5c6288",as:"td",children:w(s.total_price)}),e.jsx(r,{className:"px-4 py-3",renderId:"render-027a2121",as:"td",children:e.jsxs(r,{className:"flex items-center justify-center gap-2",renderId:"render-60e75799",as:"div",children:[s.status==="pending_payment"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{onClick:()=>de(s.id),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors",title:"Confirmer la réservation",renderId:"render-db6f90b1",as:"button",children:"✓ Confirmer"}),e.jsx(r,{onClick:()=>H(s.id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",title:"Annuler la réservation",renderId:"render-7070cfbf",as:"button",children:"✕ Annuler"})]}),s.status==="paid"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{onClick:()=>le(s.id),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 transition-colors",title:"Marquer comme complétée",renderId:"render-962c9249",as:"button",children:"✓ Complétée"}),e.jsx(r,{onClick:()=>ce(s.id),className:"px-3 py-1 bg-gray-600 text-white text-xs rounded hover:bg-gray-700 transition-colors",title:"Marquer comme no-show",renderId:"render-73e1040c",as:"button",children:"⊘ No-show"}),e.jsx(r,{onClick:()=>H(s.id),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700 transition-colors",title:"Annuler",renderId:"render-2ac8be75",as:"button",children:"✕"})]}),(s.status==="cancelled"||s.status==="completed"||s.status==="no_show")&&e.jsx(r,{className:"text-gray-400 text-xs",renderId:"render-bfbdf65b",as:"span",children:"-"})]})})]},s.id))})]})})}),re&&e.jsx(r,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",renderId:"render-d040015d",as:"div",children:e.jsxs(r,{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",renderId:"render-7d35a563",as:"div",children:[e.jsxs(r,{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",renderId:"render-00e47678",as:"div",children:[e.jsx(r,{className:"text-2xl font-bold text-purple-600",renderId:"render-ce78dda8",as:"h2",children:A?"Modifier le Jeu":"Ajouter un Nouveau Jeu"}),e.jsx(r,{onClick:()=>{k(!1),P(null),_(M)},className:"text-gray-500 hover:text-gray-700 text-2xl",renderId:"render-b3415f47",as:"button",children:"×"})]}),e.jsxs(r,{onSubmit:A?he:xe,className:"p-6",renderId:"render-5aa6e242",as:"form",children:[e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",renderId:"render-4bd94aa4",as:"div",children:[e.jsxs(r,{className:"md:col-span-2",renderId:"render-e863236a",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-fd53144b",as:"label",children:"Nom du Jeu *"}),e.jsx(r,{type:"text",required:!0,value:m.name,onChange:s=>I("name",s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Ex: FIFA 2024",renderId:"render-f2d8de01",as:"input"})]}),e.jsxs(r,{className:"md:col-span-2",renderId:"render-6193a72d",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-c8888256",as:"label",children:"Slug (URL) - Auto-généré"}),e.jsx(r,{type:"text",value:m.slug,onChange:s=>I("slug",s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-gray-50",placeholder:"Laissez vide pour génération automatique",renderId:"render-8aba89f7",as:"input"}),e.jsx(r,{className:"text-xs text-gray-500 mt-1",renderId:"render-c3cb7f99",as:"p",children:"Si vide, sera généré automatiquement à partir du nom"})]}),e.jsxs(r,{className:"md:col-span-2",renderId:"render-f44d75ae",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-2d4e16ed",as:"label",children:"Description Courte"}),e.jsx(r,{type:"text",value:m.short_description,onChange:s=>I("short_description",s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Jeu de football avec tous les championnats officiels",renderId:"render-296fa2d2",as:"input"})]}),e.jsxs(r,{className:"md:col-span-2",renderId:"render-bc3f3ca3",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-63022ca9",as:"label",children:"Description Complète"}),e.jsx(r,{value:m.description,onChange:s=>I("description",s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:"3",placeholder:"Description détaillée du jeu...",renderId:"render-074e018b",as:"textarea"})]}),e.jsx(r,{className:"md:col-span-2",renderId:"render-8687e989",as:"div",children:e.jsx(je,{label:"Image du Jeu",value:m.image_url,onChange:s=>I("image_url",s)})}),e.jsxs(r,{renderId:"render-b716acc3",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-08bea63a",as:"label",children:"Catégorie *"}),e.jsxs(r,{value:m.category,onChange:s=>I("category",s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",renderId:"render-bd5acf0d",as:"select",children:[e.jsx(r,{value:"action",renderId:"render-fa614642",as:"option",children:"Action"}),e.jsx(r,{value:"adventure",renderId:"render-c95febea",as:"option",children:"Adventure"}),e.jsx(r,{value:"sports",renderId:"render-211bb206",as:"option",children:"Sports"}),e.jsx(r,{value:"racing",renderId:"render-1b5fc025",as:"option",children:"Racing"}),e.jsx(r,{value:"strategy",renderId:"render-f6e2c493",as:"option",children:"Strategy"}),e.jsx(r,{value:"rpg",renderId:"render-b2009ba7",as:"option",children:"RPG"}),e.jsx(r,{value:"fighting",renderId:"render-b991d7b4",as:"option",children:"Fighting"}),e.jsx(r,{value:"simulation",renderId:"render-720dc853",as:"option",children:"Simulation"}),e.jsx(r,{value:"vr",renderId:"render-013ff7db",as:"option",children:"VR"}),e.jsx(r,{value:"retro",renderId:"render-25d7f52a",as:"option",children:"Retro"}),e.jsx(r,{value:"other",renderId:"render-0f645207",as:"option",children:"Other"})]})]}),e.jsxs(r,{renderId:"render-0ee4941b",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-5acb0917",as:"label",children:"Plateforme"}),e.jsx(r,{type:"text",value:m.platform,onChange:s=>I("platform",s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"PS5, Xbox, PC...",renderId:"render-f33f6f49",as:"input"})]}),e.jsxs(r,{renderId:"render-a3aa1aab",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-cec8306a",as:"label",children:"Joueurs Min"}),e.jsx(r,{type:"number",min:"1",value:m.min_players,onChange:s=>I("min_players",parseInt(s.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",renderId:"render-bc330057",as:"input"})]}),e.jsxs(r,{renderId:"render-62736732",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-bce6b7f7",as:"label",children:"Joueurs Max"}),e.jsx(r,{type:"number",min:"1",value:m.max_players,onChange:s=>I("max_players",parseInt(s.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",renderId:"render-07f6494d",as:"input"})]}),e.jsxs(r,{renderId:"render-8d47de5c",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-b6d18ed9",as:"label",children:"Classification d'âge"}),e.jsx(r,{type:"text",value:m.age_rating,onChange:s=>I("age_rating",s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"PEGI 3, 12, 18...",renderId:"render-f78d77ec",as:"input"})]}),e.jsxs(r,{renderId:"render-b2ae48a1",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-f1a81241",as:"label",children:"Points par Heure"}),e.jsx(r,{type:"number",min:"0",value:m.points_per_hour,onChange:s=>I("points_per_hour",parseInt(s.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",renderId:"render-d0142fba",as:"input"})]}),e.jsxs(r,{renderId:"render-246577ee",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-1e39adb5",as:"label",children:"Prix de Base (XOF/h)"}),e.jsx(r,{type:"number",min:"0",step:"0.01",value:m.base_price,onChange:s=>I("base_price",parseFloat(s.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",renderId:"render-e9700956",as:"input"})]}),e.jsx(r,{className:"md:col-span-2",renderId:"render-d8121447",as:"div",children:e.jsxs(r,{className:"flex items-center gap-2 cursor-pointer",renderId:"render-ca368630",as:"label",children:[e.jsx(r,{type:"checkbox",checked:m.is_reservable,onChange:s=>I("is_reservable",s.target.checked),className:"w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500",renderId:"render-c499ab76",as:"input"}),e.jsx(r,{className:"text-sm font-semibold",renderId:"render-04a26c72",as:"span",children:"Jeu réservable (avec créneau horaire)"})]})}),m.is_reservable&&e.jsxs(r,{className:"md:col-span-2",renderId:"render-b698a9ea",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-7ec5b2cb",as:"label",children:"Frais de Réservation (XOF)"}),e.jsx(r,{type:"number",min:"0",step:"0.01",value:m.reservation_fee,onChange:s=>I("reservation_fee",parseFloat(s.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Ex: 500",renderId:"render-93387e07",as:"input"}),e.jsx(r,{className:"text-xs text-gray-500 mt-1",renderId:"render-1f0a1710",as:"p",children:"Frais supplémentaires pour réserver un créneau horaire précis"})]}),e.jsx(r,{className:"md:col-span-2",renderId:"render-aac04527",as:"div",children:e.jsxs(r,{className:"flex items-center gap-2 cursor-pointer",renderId:"render-7d80e048",as:"label",children:[e.jsx(r,{type:"checkbox",checked:m.is_featured,onChange:s=>I("is_featured",s.target.checked),className:"w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500",renderId:"render-0dc8ebd3",as:"input"}),e.jsx(r,{className:"text-sm font-semibold",renderId:"render-2fe52325",as:"span",children:"Mettre en avant (Featured)"})]})})]}),e.jsxs(r,{className:"flex gap-3 mt-6",renderId:"render-cbb9e575",as:"div",children:[e.jsx(r,{type:"button",onClick:()=>{k(!1),P(null),_(M)},className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold",disabled:U,renderId:"render-b302a560",as:"button",children:"Annuler"}),e.jsx(r,{type:"submit",className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold disabled:opacity-50 disabled:cursor-not-allowed",disabled:U,renderId:"render-6771256a",as:"button",children:U?A?"Mise à jour...":"Création...":A?"Mettre à Jour":"Créer le Jeu"})]})]})]})}),e.jsx(we,{isOpen:se,onClose:()=>{L(!1),z(null)},editingPackage:ae,games:a,onSuccess:R}),e.jsx(Ce,{isOpen:ne,onClose:()=>{O(!1),B(null)},editingPayment:te,onSuccess:K})]})}if(typeof window<"u"){const c={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const x=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},c,x),{get(a,p){return p in a?a[p]:void 0},has(){return!0}})}const ar=fe(function(x){return e.jsx(ge,{children:e.jsx(ke,{...x})})});export{ar as default};
