import{r as x,i as L}from"./react-vendor-DYp0RFF0.js";import{j as e}from"./ui-vendor-DAbCkwHz.js";import{R as U}from"./layout-BhjoAR2P.js";import{C as r}from"./PolymorphicComponent-kLkD8TKY.js";import{N as K,A as j,a as I,C as X}from"./Navigation-KwyceX57.js";import{A as h}from"./apiBase-uKT1-15E.js";import{r as $}from"./avatarUrl-DJYax4aH.js";import{S as D}from"./shield-CgYTGvXu.js";import{R as Y}from"./refresh-cw-3nrt7UJ1.js";import{c as p}from"./createLucideIcon-BuqtEc0O.js";import{U as M}from"./users-CFhMAaaJ.js";import{U as O}from"./user-check-DlTMpPn0.js";import{T as v}from"./trending-up-DojpjbOr.js";import{T as y}from"./trophy-i2KwZb7z.js";import{E as R}from"./eye-CY-8UVyR.js";import{S as _}from"./star-COodYRQY.js";import{C as N}from"./clock-CG-fk9kX.js";import"./index-Birp5Yjg.js";import"./gamepad-DUfdRHsM.js";import"./sparkles-CYj8vm4n.js";import"./x-B8NaV6qa.js";if(typeof window<"u"){const i={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const o=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},i,o),{get(t,n){return n in t?t[n]:void 0},has(){return!0}})}const q=p("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);if(typeof window<"u"){const i={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const o=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},i,o),{get(t,n){return n in t?t[n]:void 0},has(){return!0}})}const w=p("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);if(typeof window<"u"){const i={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const o=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},i,o),{get(t,n){return n in t?t[n]:void 0},has(){return!0}})}const W=p("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);if(typeof window<"u"){const i={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const o=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},i,o),{get(t,n){return n in t?t[n]:void 0},has(){return!0}})}const V=p("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);if(typeof window<"u"){const i={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const o=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},i,o),{get(t,n){return n in t?t[n]:void 0},has(){return!0}})}function z(){const[i,o]=x.useState("week"),[t,n]=x.useState(!0),[b,u]=x.useState(null),[l,P]=x.useState({totalPlayers:0,activeThisWeek:0,newSignups:0,pointsDistributed:{week:0,month:0},totalEvents:0,totalGallery:0,activeSanctions:0,topPlayers:[]}),[A,T]=x.useState([]),[a,E]=x.useState({today:{count:0,points:0,success_rate:0},week:{count:0,points:0,success_rate:0},month:{count:0,points:0,success_rate:0},failed:{count:0,last_failures:[]},pending:{count:0},refunded:{count:0,total_points:0}}),[f,C]=x.useState({stuck_transactions:0,suspicious_activity:0,failed_payments:0,last_cleanup:null}),g=async()=>{try{n(!0),console.log("🔄 Chargement des statistiques depuis:",`${h}/admin/statistics.php`);const d=await fetch(`${h}/admin/statistics.php`,{credentials:"include"});if(console.log("📡 Response status:",d.status),!d.ok){const c=await d.text();throw console.error("❌ Erreur API:",c),new Error("Erreur lors du chargement des statistiques")}const s=await d.json();if(console.log("📦 Données reçues:",s),s.success){if(P({totalPlayers:s.statistics.users.total||0,activeThisWeek:s.statistics.users.active||0,newSignups:s.statistics.users.new||0,pointsDistributed:{week:s.statistics.gamification.totalPointsDistributed||0,month:s.statistics.gamification.totalPointsDistributed||0},totalEvents:s.statistics.events.total||0,totalGallery:s.statistics.gallery.total||0,activeSanctions:s.statistics.gamification.activeSanctions||0,topPlayers:(s.topUsers||[]).map(c=>({username:c.username,points:c.points,avatar:$(c.avatar_url,c.username),level:c.level}))}),s.recentEvents&&s.recentEvents.length>0){const c=s.recentEvents.slice(0,5).map((m,F)=>({id:m.id,player:m.creator_username||"Admin",action:m.title,time:S(m.created_at)}));T(c)}k(),B()}else console.error("❌ API returned success: false"),u(s.error||"Erreur inconnue")}catch(d){console.error("❌ Erreur de chargement:",d),u(d.message)}finally{n(!1)}},S=d=>{const s=new Date(d),m=Math.floor((new Date-s)/1e3);return m<3600?Math.floor(m/60)+"min":m<86400?Math.floor(m/3600)+"h":Math.floor(m/86400)+"j"};x.useEffect(()=>{g()},[]);const k=async()=>{try{const s=await(await fetch(`${h}/admin/transaction_stats.php`,{credentials:"include"})).json();s.success&&E(s.stats)}catch(d){console.error("Erreur chargement stats transactions:",d)}},B=async()=>{try{const s=await(await fetch(`${h}/admin/security_alerts.php`,{credentials:"include"})).json();s.success&&C(s.alerts)}catch(d){console.error("Erreur chargement alertes:",d)}};return e.jsxs(r,{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",renderId:"render-d83fad18",as:"div",children:[e.jsx(K,{userType:"admin",currentPage:"dashboard"}),e.jsx(r,{className:"lg:pl-64",renderId:"render-ed9ed686",as:"div",children:e.jsxs(r,{className:"p-4 lg:p-8",renderId:"render-e3dacc7e",as:"div",children:[e.jsxs(r,{className:"mb-8 flex flex-col lg:flex-row lg:items-center lg:justify-between",renderId:"render-63f6ac0a",as:"div",children:[e.jsxs(r,{renderId:"render-ce74153c",as:"div",children:[e.jsxs(r,{className:"text-3xl lg:text-4xl font-bold text-white mb-2 flex items-center gap-3",renderId:"render-24628679",as:"h1",children:[e.jsx(D,{className:"w-10 h-10 text-purple-400"}),"Tableau de bord Admin"]}),e.jsxs(r,{className:"text-gray-300 flex items-center gap-2",renderId:"render-6b9be4ef",as:"p",children:[e.jsx(j,{className:"w-4 h-4"}),"Vue d'ensemble de votre salle de jeux"]})]}),e.jsxs(r,{onClick:g,disabled:t,className:"mt-4 lg:mt-0 flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-xl transition-all duration-200 shadow-lg hover:shadow-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed",renderId:"render-564ebfe9",as:"button",children:[e.jsx(Y,{className:`w-5 h-5 ${t?"animate-spin":""}`}),t?"Chargement...":"Actualiser"]})]}),b&&e.jsx(r,{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-6 mb-8",renderId:"render-3b8260b4",as:"div",children:e.jsxs(r,{className:"flex items-center gap-3",renderId:"render-bbe5ac28",as:"div",children:[e.jsx(r,{className:"p-2 bg-red-500/20 rounded-lg",renderId:"render-853dc1ba",as:"div",children:e.jsx(j,{className:"w-6 h-6 text-red-400"})}),e.jsxs(r,{renderId:"render-af598adc",as:"div",children:[e.jsx(r,{className:"text-red-400 font-bold text-lg",renderId:"render-72910885",as:"h3",children:"Erreur de chargement"}),e.jsx(r,{className:"text-red-300 text-sm mt-1",renderId:"render-dba4bb85",as:"p",children:b}),e.jsx(r,{className:"text-gray-400 text-xs mt-2",renderId:"render-5a851767",as:"p",children:"Vérifiez que vous êtes connecté en tant qu'admin et que l'API est accessible."}),e.jsx(r,{onClick:()=>{u(null),g()},className:"mt-3 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm transition-colors",renderId:"render-ba876726",as:"button",children:"Réessayer"})]})]})}),t&&e.jsxs(r,{className:"flex items-center justify-center py-20",renderId:"render-bfa10c04",as:"div",children:[e.jsx(V,{className:"w-12 h-12 text-purple-400 animate-spin"}),e.jsx(r,{className:"ml-4 text-white text-lg",renderId:"render-415c44f1",as:"span",children:"Chargement des statistiques..."})]}),!t&&!b&&e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",renderId:"render-ecd0b9ce",as:"div",children:[e.jsxs(r,{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 backdrop-blur-md border border-blue-500/30 rounded-2xl p-6 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-blue-500/50",renderId:"render-e41d84c4",as:"div",children:[e.jsxs(r,{className:"flex items-start justify-between mb-4",renderId:"render-931a1c5c",as:"div",children:[e.jsx(r,{className:"p-3 bg-blue-500/30 rounded-xl ring-2 ring-blue-400/50",renderId:"render-e6344573",as:"div",children:e.jsx(M,{className:"w-8 h-8 text-blue-300"})}),e.jsxs(r,{className:"flex items-center gap-1 text-green-400 text-sm font-semibold",renderId:"render-5b1b0fca",as:"div",children:[e.jsx(w,{className:"w-4 h-4"}),"+",l.totalPlayers>0?Math.round(l.newSignups/l.totalPlayers*100):0,"%"]})]}),e.jsxs(r,{renderId:"render-c860e836",as:"div",children:[e.jsx(r,{className:"text-blue-200 text-sm font-medium mb-1",renderId:"render-545fde92",as:"p",children:"Joueurs totaux"}),e.jsx(r,{className:"text-3xl font-bold text-white mb-2",renderId:"render-bb104bad",as:"p",children:l.totalPlayers}),e.jsxs(r,{className:"text-green-300 text-xs flex items-center gap-1",renderId:"render-b198335c",as:"p",children:[e.jsx(O,{className:"w-3 h-3"}),"+",l.newSignups," cette semaine"]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-green-500/20 to-green-600/10 backdrop-blur-md border border-green-500/30 rounded-2xl p-6 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-green-500/50",renderId:"render-1feb9946",as:"div",children:[e.jsxs(r,{className:"flex items-start justify-between mb-4",renderId:"render-1a81d74b",as:"div",children:[e.jsx(r,{className:"p-3 bg-green-500/30 rounded-xl ring-2 ring-green-400/50",renderId:"render-6c9ebd18",as:"div",children:e.jsx(v,{className:"w-8 h-8 text-green-300"})}),e.jsxs(r,{className:"flex items-center gap-1 text-green-400 text-sm font-semibold",renderId:"render-0a634ecf",as:"div",children:[e.jsx(w,{className:"w-4 h-4"}),Math.round(l.activeThisWeek/l.totalPlayers*100),"%"]})]}),e.jsxs(r,{renderId:"render-15938c7a",as:"div",children:[e.jsx(r,{className:"text-green-200 text-sm font-medium mb-1",renderId:"render-5ac0a441",as:"p",children:"Actifs cette semaine"}),e.jsx(r,{className:"text-3xl font-bold text-white mb-2",renderId:"render-e6014087",as:"p",children:l.activeThisWeek}),e.jsxs(r,{className:"text-green-300 text-xs flex items-center gap-1",renderId:"render-39aa7a4c",as:"p",children:[e.jsx(j,{className:"w-3 h-3"}),Math.round(l.activeThisWeek/l.totalPlayers*100),"% taux d'engagement"]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/10 backdrop-blur-md border border-yellow-500/30 rounded-2xl p-6 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-yellow-500/50",renderId:"render-6fb3498e",as:"div",children:[e.jsxs(r,{className:"flex items-start justify-between mb-4",renderId:"render-4c42f2fb",as:"div",children:[e.jsx(r,{className:"p-3 bg-yellow-500/30 rounded-xl ring-2 ring-yellow-400/50",renderId:"render-d702ab0a",as:"div",children:e.jsx(I,{className:"w-8 h-8 text-yellow-300"})}),e.jsxs(r,{className:"flex items-center gap-1 text-yellow-400 text-sm font-semibold",renderId:"render-9d15146e",as:"div",children:[e.jsx(v,{className:"w-4 h-4"}),"+12%"]})]}),e.jsxs(r,{renderId:"render-695b46cd",as:"div",children:[e.jsx(r,{className:"text-yellow-200 text-sm font-medium mb-1",renderId:"render-2a73f1bf",as:"p",children:"Points distribués"}),e.jsx(r,{className:"text-3xl font-bold text-white mb-2",renderId:"render-7051590b",as:"p",children:i==="week"?l.pointsDistributed.week.toLocaleString():l.pointsDistributed.month.toLocaleString()}),e.jsxs(r,{className:"text-yellow-300 text-xs flex items-center gap-1",renderId:"render-b3af3a3e",as:"p",children:[e.jsx(X,{className:"w-3 h-3"}),"Cette ",i==="week"?"semaine":"mois"]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 backdrop-blur-md border border-purple-500/30 rounded-2xl p-6 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-purple-500/50",renderId:"render-5c70df9c",as:"div",children:[e.jsxs(r,{className:"flex items-start justify-between mb-4",renderId:"render-e150a447",as:"div",children:[e.jsx(r,{className:"p-3 bg-purple-500/30 rounded-xl ring-2 ring-purple-400/50",renderId:"render-73d35353",as:"div",children:e.jsx(y,{className:"w-8 h-8 text-purple-300"})}),e.jsx(r,{className:"p-2 hover:bg-purple-500/20 rounded-lg transition-colors",renderId:"render-1cb43d4e",as:"button",children:e.jsx(R,{className:"w-4 h-4 text-purple-300"})})]}),e.jsxs(r,{renderId:"render-7750747a",as:"div",children:[e.jsx(r,{className:"text-purple-200 text-sm font-medium mb-1",renderId:"render-ae0688a9",as:"p",children:"Top joueur"}),e.jsx(r,{className:"text-xl font-bold text-white truncate mb-2",renderId:"render-6095f804",as:"p",children:l.topPlayers&&l.topPlayers.length>0?l.topPlayers[0].username:"N/A"}),e.jsxs(r,{className:"text-purple-300 text-sm flex items-center gap-1",renderId:"render-2b767801",as:"p",children:[e.jsx(_,{className:"w-3 h-3 fill-current"}),l.topPlayers&&l.topPlayers.length>0?l.topPlayers[0].points.toLocaleString():"0"," points"]})]})]})]}),!t&&!b&&e.jsxs(r,{className:"grid lg:grid-cols-3 gap-8",renderId:"render-a917ccfb",as:"div",children:[e.jsx(r,{className:"lg:col-span-2",renderId:"render-1dbf1e7a",as:"div",children:e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-81f8d217",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-6",renderId:"render-f9f49d66",as:"div",children:[e.jsxs(r,{className:"text-xl font-bold text-white flex items-center space-x-2",renderId:"render-e731e7f0",as:"h2",children:[e.jsx(W,{className:"w-6 h-6 text-purple-400"}),e.jsx(r,{renderId:"render-a2ba5bc3",as:"span",children:"Transactions & Sécurité"})]}),e.jsxs(r,{className:"flex items-center space-x-2 text-xs text-gray-300",renderId:"render-eb7ffb57",as:"div",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-3519c7c3",as:"span",children:"Mis à jour en temps réel"})]})]}),e.jsxs(r,{className:"grid grid-cols-3 gap-4 mb-6",renderId:"render-9152db6a",as:"div",children:[e.jsxs(r,{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 border border-blue-500/30 rounded-xl p-4",renderId:"render-521044a1",as:"div",children:[e.jsx(r,{className:"text-blue-300 text-xs font-medium mb-1",renderId:"render-bba08ba4",as:"div",children:"Aujourd'hui"}),e.jsx(r,{className:"text-2xl font-bold text-white mb-1",renderId:"render-74c8db30",as:"div",children:a.today.count}),e.jsxs(r,{className:"text-xs text-gray-300",renderId:"render-306200ae",as:"div",children:[a.today.points.toLocaleString()," pts"]}),e.jsxs(r,{className:"mt-2 flex items-center space-x-1",renderId:"render-a5f653aa",as:"div",children:[e.jsx(r,{className:"h-1.5 flex-1 bg-gray-700 rounded-full overflow-hidden",renderId:"render-7b3234ee",as:"div",children:e.jsx(r,{className:"h-full bg-gradient-to-r from-green-500 to-green-400",style:{width:`${a.today.success_rate}%`},renderId:"render-97991dd6",as:"div"})}),e.jsxs(r,{className:"text-xs text-green-400",renderId:"render-e73b7c92",as:"span",children:[a.today.success_rate,"%"]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 border border-purple-500/30 rounded-xl p-4",renderId:"render-e1ddfa9c",as:"div",children:[e.jsx(r,{className:"text-purple-300 text-xs font-medium mb-1",renderId:"render-67b44634",as:"div",children:"Cette semaine"}),e.jsx(r,{className:"text-2xl font-bold text-white mb-1",renderId:"render-28a77392",as:"div",children:a.week.count}),e.jsxs(r,{className:"text-xs text-gray-300",renderId:"render-14911bfe",as:"div",children:[a.week.points.toLocaleString()," pts"]}),e.jsxs(r,{className:"mt-2 flex items-center space-x-1",renderId:"render-83abd982",as:"div",children:[e.jsx(r,{className:"h-1.5 flex-1 bg-gray-700 rounded-full overflow-hidden",renderId:"render-d6f83ac1",as:"div",children:e.jsx(r,{className:"h-full bg-gradient-to-r from-green-500 to-green-400",style:{width:`${a.week.success_rate}%`},renderId:"render-2fb7ac37",as:"div"})}),e.jsxs(r,{className:"text-xs text-green-400",renderId:"render-889873f2",as:"span",children:[a.week.success_rate,"%"]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-indigo-500/20 to-indigo-600/10 border border-indigo-500/30 rounded-xl p-4",renderId:"render-03d9b2fc",as:"div",children:[e.jsx(r,{className:"text-indigo-300 text-xs font-medium mb-1",renderId:"render-72cb2d56",as:"div",children:"Ce mois"}),e.jsx(r,{className:"text-2xl font-bold text-white mb-1",renderId:"render-cef7c7ef",as:"div",children:a.month.count}),e.jsxs(r,{className:"text-xs text-gray-300",renderId:"render-06dd0795",as:"div",children:[a.month.points.toLocaleString()," pts"]}),e.jsxs(r,{className:"mt-2 flex items-center space-x-1",renderId:"render-34ecedee",as:"div",children:[e.jsx(r,{className:"h-1.5 flex-1 bg-gray-700 rounded-full overflow-hidden",renderId:"render-52b6c468",as:"div",children:e.jsx(r,{className:"h-full bg-gradient-to-r from-green-500 to-green-400",style:{width:`${a.month.success_rate}%`},renderId:"render-1d7be442",as:"div"})}),e.jsxs(r,{className:"text-xs text-green-400",renderId:"render-aabafb35",as:"span",children:[a.month.success_rate,"%"]})]})]})]}),e.jsxs(r,{className:"space-y-3",renderId:"render-34c194b4",as:"div",children:[e.jsx(r,{className:"text-sm font-semibold text-gray-300 mb-3",renderId:"render-99a065b8",as:"div",children:"🔒 Alertes de Sécurité"}),e.jsxs(r,{className:"grid grid-cols-2 gap-3",renderId:"render-122b5443",as:"div",children:[e.jsx(r,{className:`p-3 rounded-lg border ${a.failed.count>5?"bg-red-500/10 border-red-500/30":"bg-gray-700/30 border-gray-600/30"}`,renderId:"render-6fd86c95",as:"div",children:e.jsxs(r,{className:"flex items-center justify-between",renderId:"render-91e368f4",as:"div",children:[e.jsx(r,{className:"text-xs text-gray-300",renderId:"render-08b4b4e5",as:"span",children:"Échecs récents"}),e.jsx(r,{className:`text-lg font-bold ${a.failed.count>5?"text-red-400":"text-gray-400"}`,renderId:"render-8997f53f",as:"span",children:a.failed.count})]})}),e.jsx(r,{className:`p-3 rounded-lg border ${f.stuck_transactions>0?"bg-orange-500/10 border-orange-500/30":"bg-gray-700/30 border-gray-600/30"}`,renderId:"render-8561dd9b",as:"div",children:e.jsxs(r,{className:"flex items-center justify-between",renderId:"render-ceb74ec3",as:"div",children:[e.jsx(r,{className:"text-xs text-gray-300",renderId:"render-f10ed272",as:"span",children:"Bloquées"}),e.jsx(r,{className:`text-lg font-bold ${f.stuck_transactions>0?"text-orange-400":"text-gray-400"}`,renderId:"render-82bbf18e",as:"span",children:f.stuck_transactions})]})}),e.jsxs(r,{className:"p-3 rounded-lg border bg-yellow-500/10 border-yellow-500/30",renderId:"render-b0313c62",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between",renderId:"render-015ec10a",as:"div",children:[e.jsx(r,{className:"text-xs text-gray-300",renderId:"render-d2321aaf",as:"span",children:"Remboursés"}),e.jsx(r,{className:"text-lg font-bold text-yellow-400",renderId:"render-446494d6",as:"span",children:a.refunded.count})]}),e.jsxs(r,{className:"text-xs text-gray-400 mt-1",renderId:"render-374280d5",as:"div",children:[a.refunded.total_points.toLocaleString()," pts"]})]}),e.jsx(r,{className:"p-3 rounded-lg border bg-blue-500/10 border-blue-500/30",renderId:"render-adec52ea",as:"div",children:e.jsxs(r,{className:"flex items-center justify-between",renderId:"render-f1ffea34",as:"div",children:[e.jsx(r,{className:"text-xs text-gray-300",renderId:"render-b93e9175",as:"span",children:"En attente"}),e.jsx(r,{className:"text-lg font-bold text-blue-400",renderId:"render-32e797b5",as:"span",children:a.pending.count})]})})]}),a.failed.last_failures&&a.failed.last_failures.length>0&&e.jsxs(r,{className:"mt-4 p-3 bg-red-500/5 border border-red-500/20 rounded-lg",renderId:"render-cae63303",as:"div",children:[e.jsx(r,{className:"text-xs font-medium text-red-300 mb-2",renderId:"render-54072ab9",as:"div",children:"Dernières erreurs:"}),e.jsx(r,{className:"space-y-1",renderId:"render-4b33fbe2",as:"div",children:a.failed.last_failures.slice(0,3).map((d,s)=>e.jsxs(r,{className:"text-xs text-gray-400 truncate",renderId:"render-bd6eede8",as:"div",children:["• ",d.reason||"Erreur inconnue",e.jsx(r,{className:"text-gray-500 ml-2",renderId:"render-ade481a5",as:"span",children:d.when})]},s))})]})]})]})}),e.jsxs(r,{className:"space-y-8",renderId:"render-6e797961",as:"div",children:[e.jsxs(r,{className:"bg-gradient-to-br from-yellow-500/10 to-orange-500/10 backdrop-blur-md border border-yellow-500/30 rounded-2xl p-6 shadow-xl",renderId:"render-1de6e69c",as:"div",children:[e.jsxs(r,{className:"text-xl font-bold text-white mb-6 flex items-center space-x-2",renderId:"render-e07ce262",as:"h2",children:[e.jsx(r,{className:"p-2 bg-yellow-500/20 rounded-lg",renderId:"render-1207eacc",as:"div",children:e.jsx(_,{className:"w-6 h-6 text-yellow-400"})}),e.jsx(r,{renderId:"render-d2e13f4e",as:"span",children:"Top Joueurs"})]}),e.jsx(r,{className:"space-y-3",renderId:"render-ab631bba",as:"div",children:l.topPlayers.map((d,s)=>e.jsxs(r,{className:`flex items-center space-x-3 p-4 rounded-xl border transition-all duration-300 hover:scale-102 cursor-pointer ${s===0?"bg-gradient-to-r from-yellow-500/20 to-yellow-600/10 border-yellow-500/40 shadow-lg shadow-yellow-500/20":s===1?"bg-gradient-to-r from-gray-400/20 to-gray-500/10 border-gray-400/40":s===2?"bg-gradient-to-r from-amber-600/20 to-amber-700/10 border-amber-600/40":"bg-white/5 border-white/10 hover:bg-white/10"}`,renderId:"render-1021ca5b",as:"div",children:[e.jsx(r,{className:"w-10 h-10 flex items-center justify-center shrink-0",renderId:"render-39053810",as:"div",children:s<3?e.jsx(r,{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold shadow-lg ${s===0?"bg-gradient-to-br from-yellow-400 to-yellow-600 text-yellow-900 ring-2 ring-yellow-300":s===1?"bg-gradient-to-br from-gray-300 to-gray-500 text-gray-800 ring-2 ring-gray-200":"bg-gradient-to-br from-amber-500 to-amber-700 text-amber-900 ring-2 ring-amber-400"}`,renderId:"render-4b12af1e",as:"div",children:s+1}):e.jsxs(r,{className:"text-gray-400 font-bold text-lg",renderId:"render-1dc0ef47",as:"span",children:["#",s+1]})}),e.jsx(r,{src:d.avatar,alt:d.username,className:"w-12 h-12 rounded-full border-2 border-white/30 shadow-lg",renderId:"render-5835dda4",as:"img"}),e.jsxs(r,{className:"flex-1 min-w-0",renderId:"render-d630b9f8",as:"div",children:[e.jsx(r,{className:"text-white font-bold truncate text-sm mb-1",renderId:"render-e99ea70d",as:"p",children:d.username}),e.jsxs(r,{className:"flex items-center space-x-1 text-yellow-400",renderId:"render-d13dd29a",as:"div",children:[e.jsx(I,{className:"w-4 h-4 fill-current"}),e.jsx(r,{className:"text-sm font-bold",renderId:"render-4d08c718",as:"span",children:d.points.toLocaleString()})]})]}),s<3&&e.jsx(y,{className:`w-5 h-5 ${s===0?"text-yellow-400":s===1?"text-gray-300":"text-amber-600"}`})]},s))})]}),e.jsxs(r,{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 backdrop-blur-md border border-purple-500/30 rounded-2xl p-6 shadow-xl",renderId:"render-8918b978",as:"div",children:[e.jsxs(r,{className:"text-xl font-bold text-white mb-6 flex items-center space-x-2",renderId:"render-2b1e6ef2",as:"h2",children:[e.jsx(r,{className:"p-2 bg-purple-500/20 rounded-lg",renderId:"render-c53e7cbe",as:"div",children:e.jsx(N,{className:"w-6 h-6 text-purple-400"})}),e.jsx(r,{renderId:"render-41ecf1a5",as:"span",children:"Activités récentes"})]}),e.jsx(r,{className:"space-y-3",renderId:"render-0e2e6266",as:"div",children:A.map(d=>e.jsxs(r,{className:"p-4 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-200 hover:border-purple-500/30",renderId:"render-812c7565",as:"div",children:[e.jsxs(r,{className:"flex justify-between items-start mb-2",renderId:"render-0388ff1d",as:"div",children:[e.jsx(r,{className:"text-white font-bold text-sm",renderId:"render-70d7d0db",as:"p",children:d.player}),e.jsxs(r,{className:"text-gray-400 text-xs flex items-center gap-1",renderId:"render-96ce2a34",as:"span",children:[e.jsx(N,{className:"w-3 h-3"}),d.time]})]}),e.jsx(r,{className:"text-gray-300 text-sm mb-3",renderId:"render-95f851fa",as:"p",children:d.action}),e.jsx(r,{className:"flex items-center justify-between",renderId:"render-7f078327",as:"div",children:e.jsxs(r,{className:`flex items-center space-x-1 px-3 py-1 rounded-full ${d.points>0?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,renderId:"render-1d5fbab5",as:"div",children:[d.points>0?e.jsx(w,{className:"w-3 h-3"}):e.jsx(q,{className:"w-3 h-3"}),e.jsx(I,{className:"w-3 h-3"}),e.jsxs(r,{className:"text-xs font-bold",renderId:"render-5a3a7c5c",as:"span",children:[d.points>0?"+":"",d.points]})]})})]},d.id))})]})]})]})]})})]})}if(typeof window<"u"){const i={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const o=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},i,o),{get(t,n){return n in t?t[n]:void 0},has(){return!0}})}const ue=L(function(o){return e.jsx(U,{children:e.jsx(z,{...o})})});export{ue as default};
