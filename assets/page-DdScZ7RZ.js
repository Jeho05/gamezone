import{r as m,w as O}from"./react-vendor-BXH1ZKCn.js";import{j as e}from"./ui-vendor-CptTL0WJ.js";import{R as Y}from"./layout-CA9ilw8C.js";import{C as r}from"./PolymorphicComponent-CmmJTj6d.js";import{N as $,C as P}from"./Navigation-C_UvFhfu.js";import{I as M}from"./ImageUpload-CFb0O1F5.js";import{A as f}from"./apiBase-uKT1-15E.js";import{t as x}from"./index-DeIfEMOZ.js";import{c as y}from"./createLucideIcon-BCGXG0XW.js";import{I as A}from"./image-BfDgDxRz.js";import{E as S}from"./eye-DLEIbPNr.js";import{S as V}from"./search-DzFNGWdv.js";import{P as R}from"./plus-BIa4dSUY.js";import{E as z}from"./eye-off-BgrTnmBJ.js";import"./gamepad-D9JnDti4.js";import"./users-uhOgvxGK.js";import"./sparkles-BFQn3fMP.js";import"./trophy-CUmIdvP5.js";import"./x-BQPNjVqT.js";import"./loader-oMwspFKK.js";import"./upload-DUPv6M87.js";if(typeof window<"u"){const l={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const c=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},l,c),{get(i,t){return t in i?i[t]:void 0},has(){return!0}})}const I=y("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);if(typeof window<"u"){const l={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const c=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},l,c),{get(i,t){return t in i?i[t]:void 0},has(){return!0}})}const q=y("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);if(typeof window<"u"){const l={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const c=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},l,c),{get(i,t){return t in i?i[t]:void 0},has(){return!0}})}const T=y("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);if(typeof window<"u"){const l={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const c=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},l,c),{get(i,t){return t in i?i[t]:void 0},has(){return!0}})}function G(){const[l,c]=m.useState("news"),[i,t]=m.useState([]),[E,v]=m.useState(!1),[L,b]=m.useState(!1),[u,N]=m.useState(null),[_,k]=m.useState(""),[a,B]=m.useState(null),[d,o]=m.useState({type:"news",title:"",description:"",content:"",image_url:"",video_url:"",external_link:"",event_date:"",event_location:"",stream_url:"",is_published:!0,is_pinned:!1}),w=[{id:"news",label:"Actualit√©s",icon:I},{id:"event",label:"√âv√©nements",icon:P},{id:"gallery",label:"Galerie",icon:A},{id:"stream",label:"Streams",icon:T}];m.useEffect(()=>{g(),h()},[l]);const h=async()=>{try{const s=await fetch(`${f}/content/stats.php`,{credentials:"include"});if(s.ok){const n=await s.json();n.success&&(B(n.stats),console.log("[Admin] Stats loaded:",n.stats))}}catch(s){console.error("[Admin] Error loading stats:",s)}},g=async()=>{try{v(!0),console.log("[Content] Loading content for type:",l);const s=await fetch(`${f}/admin/content.php?type=${l}`,{credentials:"include"});if(console.log("[Content] Response status:",s.status),!s.ok){const p=await s.text();console.error("[Content] Error response:",p),x.error(`Erreur ${s.status}: ${p}`);return}const n=await s.json();console.log("[Content] Data received:",n),n.content?(console.log("[Content] Setting contents, count:",n.content.length),t(n.content)):(console.warn("[Content] No content in response"),t([]))}catch(s){console.error("[Content] Load error:",s),x.error("Erreur de chargement: "+s.message)}finally{v(!1)}},K=()=>{N(null),o({type:l,title:"",description:"",content:"",image_url:"",video_url:"",external_link:"",event_date:"",event_location:"",stream_url:"",is_published:!0,is_pinned:!1}),b(!0)},U=s=>{N(s),o({type:s.type,title:s.title||"",description:s.description||"",content:s.content||"",image_url:s.image_url||"",video_url:s.video_url||"",external_link:s.external_link||"",event_date:s.event_date?s.event_date.replace(" ","T").substring(0,16):"",event_location:s.event_location||"",stream_url:s.stream_url||"",is_published:s.is_published==1,is_pinned:s.is_pinned==1}),b(!0)},X=async s=>{if(s.preventDefault(),!d.title){x.error("Le titre est requis");return}try{const n={...d};u&&(n.id=u.id),n.event_date&&(n.event_date=n.event_date.replace("T"," ")+":00"),console.log("[Content] Submitting:",n);const p=await fetch(`${f}/admin/content.php`,{method:u?"PUT":"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});console.log("[Content] Submit response status:",p.status);const j=await p.json();console.log("[Content] Submit response data:",j),j.success||p.ok?(x.success(u?"Contenu mis √† jour !":"Contenu cr√©√© !"),b(!1),console.log("[Content] Reloading content after submit..."),await g(),await h()):x.error(j.error||"Erreur lors de l'enregistrement")}catch(n){x.error("Erreur de connexion"),console.error("[Content] Submit error:",n)}},D=async s=>{if(confirm("Supprimer ce contenu ?"))try{console.log("[Content] Deleting content id:",s);const n=await fetch(`${f}/admin/content.php?id=${s}`,{method:"DELETE",credentials:"include"});console.log("[Content] Delete response status:",n.status);const p=await n.json();console.log("[Content] Delete response data:",p),p.success?(x.success("Contenu supprim√©"),await g(),await h()):x.error(p.error||"Erreur")}catch(n){console.error("[Content] Delete error:",n),x.error("Erreur de suppression: "+n.message)}},C=i.filter(s=>s.title.toLowerCase().includes(_.toLowerCase()));return e.jsxs(r,{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900",renderId:"render-f4c24d7e",as:"div",children:[e.jsx($,{userType:"admin"}),e.jsx(r,{className:"lg:pl-64",renderId:"render-e1925336",as:"div",children:e.jsxs(r,{className:"container mx-auto px-4 py-8",renderId:"render-46e832fa",as:"div",children:[e.jsxs(r,{className:"bg-white rounded-xl shadow-lg p-6 mb-6",renderId:"render-5fc8f655",as:"div",children:[e.jsxs(r,{className:"text-3xl font-bold text-purple-600 mb-2 flex items-center gap-3",renderId:"render-b8660469",as:"h1",children:[e.jsx(I,{className:"w-8 h-8"}),"Gestion de Contenu"]}),e.jsx(r,{className:"text-gray-600",renderId:"render-0f3396d8",as:"p",children:"G√©rez vos actualit√©s, √©v√©nements, galerie et streams"}),e.jsx(r,{className:"flex gap-4 mt-6 border-b",renderId:"render-0fee022f",as:"div",children:w.map(s=>{const n=s.icon;return e.jsxs(r,{onClick:()=>c(s.id),className:`flex items-center gap-2 px-4 py-2 font-semibold border-b-2 transition-colors ${l===s.id?"border-purple-600 text-purple-600":"border-transparent text-gray-500 hover:text-purple-600"}`,renderId:"render-57f9cafb",as:"button",children:[e.jsx(n,{className:"w-5 h-5"}),s.label]},s.id)})})]}),a&&e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",renderId:"render-66de0e7f",as:"div",children:[e.jsxs(r,{className:"bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl shadow-lg p-6 text-white",renderId:"render-10f39d7f",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-2",renderId:"render-0e57f8dc",as:"div",children:[e.jsx(A,{className:"w-8 h-8 opacity-80"}),e.jsx(r,{className:"text-3xl font-bold",renderId:"render-d6160881",as:"span",children:a.by_type.gallery.count})]}),e.jsx(r,{className:"text-lg font-semibold",renderId:"render-6d42d812",as:"h3",children:"Galerie"}),e.jsxs(r,{className:"mt-3 text-sm opacity-90 space-y-1",renderId:"render-1401d408",as:"div",children:[e.jsxs(r,{className:"flex justify-between",renderId:"render-74094d42",as:"div",children:[e.jsx(r,{renderId:"render-6f04739e",as:"span",children:"üëÅÔ∏è Vues:"}),e.jsx(r,{className:"font-semibold",renderId:"render-a64ac418",as:"span",children:a.by_type.gallery.views.toLocaleString()})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-36b3ef52",as:"div",children:[e.jsx(r,{renderId:"render-87eb98b6",as:"span",children:"üîó Partages:"}),e.jsx(r,{className:"font-semibold",renderId:"render-7aa76c6a",as:"span",children:a.by_type.gallery.shares})]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-blue-500 to-blue-700 rounded-xl shadow-lg p-6 text-white",renderId:"render-f5c815b7",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-2",renderId:"render-2eccbb03",as:"div",children:[e.jsx(P,{className:"w-8 h-8 opacity-80"}),e.jsx(r,{className:"text-3xl font-bold",renderId:"render-03949e44",as:"span",children:a.by_type.event.count})]}),e.jsx(r,{className:"text-lg font-semibold",renderId:"render-de79cd34",as:"h3",children:"√âv√©nements"}),e.jsxs(r,{className:"mt-3 text-sm opacity-90 space-y-1",renderId:"render-7de3cfc7",as:"div",children:[e.jsxs(r,{className:"flex justify-between",renderId:"render-e39b1c15",as:"div",children:[e.jsx(r,{renderId:"render-101ce1c9",as:"span",children:"üëÅÔ∏è Vues:"}),e.jsx(r,{className:"font-semibold",renderId:"render-3ac04540",as:"span",children:a.by_type.event.views.toLocaleString()})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-d379ce26",as:"div",children:[e.jsx(r,{renderId:"render-47c6c274",as:"span",children:"üîó Partages:"}),e.jsx(r,{className:"font-semibold",renderId:"render-36a8dc9e",as:"span",children:a.by_type.event.shares})]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-green-500 to-green-700 rounded-xl shadow-lg p-6 text-white",renderId:"render-248aad12",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-2",renderId:"render-f3505607",as:"div",children:[e.jsx(I,{className:"w-8 h-8 opacity-80"}),e.jsx(r,{className:"text-3xl font-bold",renderId:"render-3e26fa85",as:"span",children:a.by_type.news.count})]}),e.jsx(r,{className:"text-lg font-semibold",renderId:"render-0931c74c",as:"h3",children:"Actualit√©s"}),e.jsxs(r,{className:"mt-3 text-sm opacity-90 space-y-1",renderId:"render-56815fd4",as:"div",children:[e.jsxs(r,{className:"flex justify-between",renderId:"render-0998b07e",as:"div",children:[e.jsx(r,{renderId:"render-719612af",as:"span",children:"üëÅÔ∏è Vues:"}),e.jsx(r,{className:"font-semibold",renderId:"render-2ccb330e",as:"span",children:a.by_type.news.views.toLocaleString()})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-92ffcd29",as:"div",children:[e.jsx(r,{renderId:"render-bac656ce",as:"span",children:"üîó Partages:"}),e.jsx(r,{className:"font-semibold",renderId:"render-77b76a0b",as:"span",children:a.by_type.news.shares})]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-red-500 to-red-700 rounded-xl shadow-lg p-6 text-white",renderId:"render-e01cf6c6",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-2",renderId:"render-2dd37153",as:"div",children:[e.jsx(T,{className:"w-8 h-8 opacity-80"}),e.jsx(r,{className:"text-3xl font-bold",renderId:"render-f360d514",as:"span",children:a.by_type.stream.count})]}),e.jsx(r,{className:"text-lg font-semibold",renderId:"render-ab5c1da4",as:"h3",children:"Streams"}),e.jsxs(r,{className:"mt-3 text-sm opacity-90 space-y-1",renderId:"render-5c6f7bc2",as:"div",children:[e.jsxs(r,{className:"flex justify-between",renderId:"render-6f1f7c77",as:"div",children:[e.jsx(r,{renderId:"render-ee73bd6c",as:"span",children:"üëÅÔ∏è Vues:"}),e.jsx(r,{className:"font-semibold",renderId:"render-b2815702",as:"span",children:a.by_type.stream.views.toLocaleString()})]}),e.jsxs(r,{className:"flex justify-between",renderId:"render-ce0bf685",as:"div",children:[e.jsx(r,{renderId:"render-0e740e09",as:"span",children:"üîó Partages:"}),e.jsx(r,{className:"font-semibold",renderId:"render-0f7fd4cc",as:"span",children:a.by_type.stream.shares})]})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-indigo-500 to-indigo-700 rounded-xl shadow-lg p-6 text-white md:col-span-2",renderId:"render-50261e5f",as:"div",children:[e.jsxs(r,{className:"text-lg font-semibold mb-4 flex items-center justify-between",renderId:"render-a2e4c69b",as:"h3",children:[e.jsx(r,{renderId:"render-3bdcb1f1",as:"span",children:"Engagement Total"}),e.jsx(r,{onClick:h,className:"text-xs bg-white/20 hover:bg-white/30 px-3 py-1 rounded transition-colors",title:"Actualiser",renderId:"render-4830848b",as:"button",children:"üîÑ Actualiser"})]}),e.jsxs(r,{className:"grid grid-cols-2 gap-4",renderId:"render-7af55922",as:"div",children:[e.jsxs(r,{renderId:"render-22cbb9a5",as:"div",children:[e.jsx(r,{className:"text-2xl font-bold",renderId:"render-fa98be27",as:"div",children:a.total_likes.toLocaleString()}),e.jsx(r,{className:"text-sm opacity-90",renderId:"render-030c196e",as:"div",children:"‚ù§Ô∏è Likes totaux"})]}),e.jsxs(r,{renderId:"render-669231a1",as:"div",children:[e.jsx(r,{className:"text-2xl font-bold",renderId:"render-5c863d7b",as:"div",children:a.total_comments.toLocaleString()}),e.jsx(r,{className:"text-sm opacity-90",renderId:"render-12306b74",as:"div",children:"üí¨ Commentaires"})]}),e.jsxs(r,{renderId:"render-986abdbf",as:"div",children:[e.jsx(r,{className:"text-2xl font-bold",renderId:"render-7bddf46c",as:"div",children:Object.values(a.by_type).reduce((s,n)=>s+n.views,0).toLocaleString()}),e.jsx(r,{className:"text-sm opacity-90",renderId:"render-415146c7",as:"div",children:"üëÅÔ∏è Vues totales"})]}),e.jsxs(r,{renderId:"render-6ef3e647",as:"div",children:[e.jsx(r,{className:"text-2xl font-bold",renderId:"render-5c04aa1f",as:"div",children:Object.values(a.by_type).reduce((s,n)=>s+n.shares,0).toLocaleString()}),e.jsx(r,{className:"text-sm opacity-90",renderId:"render-7cffdf33",as:"div",children:"üîó Partages totaux"})]})]})]}),e.jsxs(r,{className:"bg-white rounded-xl shadow-lg p-6 md:col-span-2",renderId:"render-0a271877",as:"div",children:[e.jsx(r,{className:"text-lg font-semibold mb-4 text-gray-800 flex items-center gap-2",renderId:"render-3811de5e",as:"h3",children:"üî• Top Contenus (Vues)"}),a.top_views&&a.top_views.length>0?e.jsx(r,{className:"space-y-3",renderId:"render-92bfc57d",as:"div",children:a.top_views.slice(0,5).map((s,n)=>e.jsxs(r,{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",renderId:"render-bdc676af",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-3 flex-1 min-w-0",renderId:"render-4cfa97ae",as:"div",children:[e.jsxs(r,{className:"text-2xl font-bold text-gray-400 min-w-[30px]",renderId:"render-711daa37",as:"span",children:["#",n+1]}),e.jsxs(r,{className:"flex-1 min-w-0",renderId:"render-79e25975",as:"div",children:[e.jsx(r,{className:"font-semibold text-gray-800 truncate",renderId:"render-9640f50e",as:"div",children:s.title}),e.jsx(r,{className:"text-xs text-gray-500 capitalize",renderId:"render-f3e6887a",as:"div",children:s.type})]})]}),e.jsxs(r,{className:"flex items-center gap-2 text-purple-600 font-bold",renderId:"render-d4647aaa",as:"div",children:[e.jsx(S,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-5ea767c8",as:"span",children:s.views_count.toLocaleString()})]})]},s.id))}):e.jsx(r,{className:"text-center text-gray-400 py-8",renderId:"render-a0936976",as:"div",children:"Aucun contenu pour le moment"})]})]}),e.jsxs(r,{className:"bg-white rounded-xl shadow-lg p-6",renderId:"render-34757b5f",as:"div",children:[e.jsxs(r,{className:"flex justify-between items-center mb-6",renderId:"render-c1580189",as:"div",children:[e.jsxs(r,{className:"relative flex-1 max-w-md",renderId:"render-64c87739",as:"div",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(r,{type:"text",placeholder:"Rechercher...",value:_,onChange:s=>k(s.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",renderId:"render-0739febb",as:"input"})]}),e.jsxs(r,{onClick:K,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",renderId:"render-53383ebf",as:"button",children:[e.jsx(R,{className:"w-5 h-5"}),"Cr√©er"]})]}),E?e.jsx(r,{className:"text-center py-12",renderId:"render-38201b46",as:"div",children:e.jsx(r,{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-purple-600",renderId:"render-2d36f2be",as:"div"})}):e.jsx(r,{className:"overflow-x-auto",renderId:"render-2dc89f05",as:"div",children:e.jsxs(r,{className:"w-full",renderId:"render-6ab3712c",as:"table",children:[e.jsx(r,{className:"bg-gray-50",renderId:"render-928a8e66",as:"thead",children:e.jsxs(r,{renderId:"render-27432131",as:"tr",children:[e.jsx(r,{className:"px-4 py-3 text-left",renderId:"render-fea58673",as:"th",children:"Titre"}),e.jsx(r,{className:"px-4 py-3 text-left",renderId:"render-de9dddaf",as:"th",children:"Auteur"}),e.jsx(r,{className:"px-4 py-3 text-left",renderId:"render-fbfce6e3",as:"th",children:"Date"}),e.jsx(r,{className:"px-4 py-3 text-left",renderId:"render-7c46900f",as:"th",children:"Statut"}),e.jsx(r,{className:"px-4 py-3 text-left",renderId:"render-549c9ac0",as:"th",children:"Stats"}),e.jsx(r,{className:"px-4 py-3 text-left",renderId:"render-020ed7b4",as:"th",children:"Actions"})]})}),e.jsx(r,{renderId:"render-40921db3",as:"tbody",children:C.length===0?e.jsx(r,{renderId:"render-baa6bc55",as:"tr",children:e.jsxs(r,{colSpan:"6",className:"px-4 py-12 text-center text-gray-500",renderId:"render-3c92018b",as:"td",children:[e.jsx(r,{className:"text-lg mb-2",renderId:"render-12df9209",as:"div",children:"Aucun contenu pour le moment"}),e.jsx(r,{className:"text-sm",renderId:"render-da32c87e",as:"div",children:'Cliquez sur "Cr√©er" pour ajouter du contenu'})]})}):C.map(s=>e.jsxs(r,{className:"border-b hover:bg-gray-50",renderId:"render-033adc87",as:"tr",children:[e.jsxs(r,{className:"px-4 py-3",renderId:"render-edab358e",as:"td",children:[e.jsx(r,{className:"font-semibold",renderId:"render-1ca368b5",as:"div",children:s.title}),s.is_pinned==1&&e.jsxs(r,{className:"inline-flex items-center gap-1 text-xs text-amber-600",renderId:"render-ab1540ac",as:"span",children:[e.jsx(q,{className:"w-3 h-3"}),"√âpingl√©"]})]}),e.jsx(r,{className:"px-4 py-3",renderId:"render-9e5058c6",as:"td",children:s.author_name||"Admin"}),e.jsx(r,{className:"px-4 py-3 text-sm text-gray-600",renderId:"render-c9e723c9",as:"td",children:new Date(s.published_at||s.created_at).toLocaleDateString("fr-FR")}),e.jsx(r,{className:"px-4 py-3",renderId:"render-fb5da227",as:"td",children:e.jsx(r,{className:`px-2 py-1 text-xs rounded ${s.is_published==1?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,renderId:"render-8bdf3ab5",as:"span",children:s.is_published==1?e.jsxs(r,{className:"flex items-center gap-1",renderId:"render-7c9a198c",as:"span",children:[e.jsx(S,{className:"w-3 h-3"}),"Publi√©"]}):e.jsxs(r,{className:"flex items-center gap-1",renderId:"render-d593b8cd",as:"span",children:[e.jsx(z,{className:"w-3 h-3"}),"Brouillon"]})})}),e.jsxs(r,{className:"px-4 py-3 text-sm text-gray-600",renderId:"render-524cbd7a",as:"td",children:["üëÅÔ∏è ",s.views_count||0," ‚Ä¢ ‚ù§Ô∏è ",s.likes_count||0," ‚Ä¢ üí¨ ",s.comments_count||0]}),e.jsxs(r,{className:"px-4 py-3",renderId:"render-19e303a0",as:"td",children:[e.jsx(r,{onClick:()=>U(s),className:"text-blue-600 hover:underline text-sm mr-2",renderId:"render-085a12f4",as:"button",children:"Modifier"}),e.jsx(r,{onClick:()=>D(s.id),className:"text-red-600 hover:underline text-sm",renderId:"render-d081abb7",as:"button",children:"Supprimer"})]})]},s.id))})]})})]})]})}),L&&e.jsx(r,{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",renderId:"render-c8b9cb8c",as:"div",children:e.jsxs(r,{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",renderId:"render-00e12c5f",as:"div",children:[e.jsxs(r,{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",renderId:"render-d7ca0cb0",as:"div",children:[e.jsxs(r,{className:"text-2xl font-bold text-purple-600",renderId:"render-acd15865",as:"h2",children:[u?"Modifier":"Cr√©er"," - ",w.find(s=>s.id===d.type)?.label]}),e.jsx(r,{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 text-2xl",renderId:"render-af64fdd3",as:"button",children:"√ó"})]}),e.jsxs(r,{onSubmit:X,className:"p-6",renderId:"render-406146a4",as:"form",children:[e.jsxs(r,{className:"space-y-4",renderId:"render-efd947e1",as:"div",children:[e.jsxs(r,{renderId:"render-9748243b",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-297b4c9a",as:"label",children:"Titre *"}),e.jsx(r,{type:"text",required:!0,value:d.title,onChange:s=>o({...d,title:s.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Titre du contenu",renderId:"render-c2b1c920",as:"input"})]}),e.jsxs(r,{renderId:"render-82a0c132",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-5db64ead",as:"label",children:"Description courte"}),e.jsx(r,{value:d.description,onChange:s=>o({...d,description:s.target.value}),rows:"2",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Description courte pour l'aper√ßu",renderId:"render-dd13fcf2",as:"textarea"})]}),e.jsxs(r,{renderId:"render-ea252d67",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-d621c7a7",as:"label",children:"Contenu complet"}),e.jsx(r,{value:d.content,onChange:s=>o({...d,content:s.target.value}),rows:"6",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Contenu d√©taill√© (HTML support√©)",renderId:"render-b19b19ca",as:"textarea"})]}),e.jsx(r,{renderId:"render-ca42d54f",as:"div",children:e.jsx(M,{value:d.image_url,onChange:s=>o({...d,image_url:s}),label:"URL de l'image"})}),d.type==="event"&&e.jsx(e.Fragment,{children:e.jsxs(r,{className:"grid grid-cols-2 gap-4",renderId:"render-f8c31451",as:"div",children:[e.jsxs(r,{renderId:"render-ff5e04d6",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-ae2f3b32",as:"label",children:"Date √©v√©nement"}),e.jsx(r,{type:"datetime-local",value:d.event_date,onChange:s=>o({...d,event_date:s.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",renderId:"render-d0180f28",as:"input"})]}),e.jsxs(r,{renderId:"render-2e481353",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-6fd9f127",as:"label",children:"Lieu"}),e.jsx(r,{type:"text",value:d.event_location,onChange:s=>o({...d,event_location:s.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Lieu de l'√©v√©nement",renderId:"render-b09682a3",as:"input"})]})]})}),d.type==="stream"&&e.jsxs(r,{renderId:"render-03a02d0d",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-040f0b38",as:"label",children:"URL du Stream"}),e.jsx(r,{type:"url",value:d.stream_url,onChange:s=>o({...d,stream_url:s.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"https://twitch.tv/...",renderId:"render-e64a14d8",as:"input"})]}),d.type==="gallery"&&e.jsxs(r,{renderId:"render-572cbb56",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-6bd69f56",as:"label",children:"URL de la vid√©o"}),e.jsx(r,{type:"url",value:d.video_url,onChange:s=>o({...d,video_url:s.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"https://youtube.com/...",renderId:"render-eba2e43b",as:"input"})]}),e.jsxs(r,{renderId:"render-09f1eebb",as:"div",children:[e.jsx(r,{className:"block text-sm font-semibold mb-2",renderId:"render-a4ddf3f5",as:"label",children:"Lien externe (optionnel)"}),e.jsx(r,{type:"url",value:d.external_link,onChange:s=>o({...d,external_link:s.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"https://...",renderId:"render-13a29a76",as:"input"})]}),e.jsxs(r,{className:"grid grid-cols-2 gap-4",renderId:"render-e8cc357f",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-e47b81ba",as:"label",children:[e.jsx(r,{type:"checkbox",checked:d.is_published,onChange:s=>o({...d,is_published:s.target.checked}),className:"w-4 h-4",renderId:"render-ce5993f1",as:"input"}),e.jsx(r,{className:"text-sm font-semibold",renderId:"render-264471c2",as:"span",children:"Publier imm√©diatement"})]}),e.jsxs(r,{className:"flex items-center gap-2",renderId:"render-01cb4c21",as:"label",children:[e.jsx(r,{type:"checkbox",checked:d.is_pinned,onChange:s=>o({...d,is_pinned:s.target.checked}),className:"w-4 h-4",renderId:"render-bec9c5d1",as:"input"}),e.jsx(r,{className:"text-sm font-semibold",renderId:"render-d339c5cf",as:"span",children:"√âpingler en haut"})]})]})]}),e.jsxs(r,{className:"flex gap-3 mt-6",renderId:"render-3b9caade",as:"div",children:[e.jsx(r,{type:"button",onClick:()=>b(!1),className:"flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-semibold",renderId:"render-f70e00f0",as:"button",children:"Annuler"}),e.jsx(r,{type:"submit",className:"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold",renderId:"render-cf026ccb",as:"button",children:u?"Mettre √† Jour":"Cr√©er"})]})]})]})})]})}if(typeof window<"u"){const l={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const c=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},l,c),{get(i,t){return t in i?i[t]:void 0},has(){return!0}})}const be=O(function(c){return e.jsx(Y,{children:e.jsx(G,{...c})})});export{be as default};
