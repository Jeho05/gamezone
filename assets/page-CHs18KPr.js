import{h as J,u as te,r as l,w as de}from"./react-vendor-BXH1ZKCn.js";import{j as e}from"./ui-vendor-CptTL0WJ.js";import{R as ie}from"./layout-CA9ilw8C.js";import{C as r}from"./PolymorphicComponent-CmmJTj6d.js";import{N as A,C as M,a as _,A as K}from"./Navigation-C_UvFhfu.js";import{t as u}from"./index-DeIfEMOZ.js";import{A as b}from"./apiBase-uKT1-15E.js";import{r as le}from"./avatarUrl-DJYax4aH.js";import{C as X}from"./circle-alert-BXr9mOHk.js";import{A as O}from"./arrow-left-DgQssQru.js";import{T as z}from"./triangle-alert-BcldxtB7.js";import{c as oe}from"./createLucideIcon-BCGXG0XW.js";import{U as ce}from"./user-check-BlAJoteO.js";import{T as Y}from"./trash-2-Ct117BLG.js";import{A as G}from"./award-DbKRpCHq.js";import{M as me}from"./mail-BeN6U3tS.js";import{C as xe}from"./clock-BTYTED3i.js";import{T as ue}from"./trending-up-DhekDyxE.js";import{G as pe}from"./users-uhOgvxGK.js";import{S as be}from"./shield-BzAWF11W.js";import"./gamepad-D9JnDti4.js";import"./sparkles-BFQn3fMP.js";import"./trophy-CUmIdvP5.js";import"./x-BQPNjVqT.js";if(typeof window<"u"){const i={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const c=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},i,c),{get(n,o){return o in n?n[o]:void 0},has(){return!0}})}const he=oe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);if(typeof window<"u"){const i={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const c=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},i,c),{get(n,o){return o in n?n[o]:void 0},has(){return!0}})}function fe(){const{id:i}=J(),c=te(),[n,o]=l.useState(null),[F,P]=l.useState(!0),[k,T]=l.useState(null),[H,L]=l.useState(!1),[V,g]=l.useState(!1),[W,j]=l.useState(!1),[m,p]=l.useState(!1),[E,Q]=l.useState(null),[h,U]=l.useState("warning"),[D,v]=l.useState(""),[w,N]=l.useState(""),[I,R]=l.useState("");l.useEffect(()=>{const s=async()=>{try{const d=await fetch(`${b}/users/profile.php`,{credentials:"include"}),x=await d.json();d.ok&&x.user&&Q(x.user)}catch(d){console.error("Failed to fetch current user:",d)}},t=async()=>{try{P(!0),T(null);const d=await fetch(`${b}/users/admin_profile.php?id=${i}`,{credentials:"include"}),x=await d.json();if(!d.ok)throw new Error(x?.error||"Échec du chargement du profil");o(x)}catch(d){T(d.message)}finally{P(!1)}};s(),i&&t()},[i]);const Z=s=>s?new Date(s).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",$=s=>s?new Date(s).toLocaleDateString("fr-FR"):"N/A",B=s=>{switch(s){case"Diamond Elite":return"from-cyan-500 to-blue-500";case"Platinum Pro":return"from-slate-400 to-slate-600";case"Gold Gamer":return"from-yellow-500 to-yellow-600";case"Silver Star":return"from-gray-400 to-gray-500";default:return"from-gray-400 to-gray-500"}},ee=s=>s==="active"?e.jsx(r,{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-400/20 text-green-400 border border-green-400/30",renderId:"render-fd9c0efb",as:"span",children:"Actif"}):e.jsx(r,{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-400/20 text-red-400 border border-red-400/30",renderId:"render-5c358fb0",as:"span",children:"Inactif"}),re=s=>s==="admin"?e.jsxs(r,{className:"px-3 py-1 rounded-full text-xs font-semibold bg-purple-400/20 text-purple-400 border border-purple-400/30 flex items-center space-x-1",renderId:"render-e1ce3574",as:"span",children:[e.jsx(be,{className:"w-3 h-3"}),e.jsx(r,{renderId:"render-60732552",as:"span",children:"Administrateur"})]}):e.jsx(r,{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-400/20 text-blue-400 border border-blue-400/30",renderId:"render-990f6ee0",as:"span",children:"Joueur"}),se=async()=>{if(!n?.user)return;const s=n.user.status==="active"?"inactive":"active";if(s==="inactive"&&!w.trim()){u.error("Motif requis",{description:"Le motif de désactivation est obligatoire",duration:3e3});return}try{p(!0);const t={status:s};s==="inactive"&&(t.deactivation_reason=w.trim());const d=await fetch(`${b}/users/item.php?id=${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),x=await d.json();if(!d.ok)throw new Error(x?.error||"Échec de la mise à jour du statut");o(S=>({...S,user:{...S.user,status:s,points:s==="inactive"?0:S.user.points}})),g(!1),N(""),u.success(`Compte ${s==="active"?"activé":"désactivé"}`,{description:"Le statut du compte a été modifié avec succès",duration:3e3})}catch(t){u.error("Erreur lors de la modification du statut",{description:t.message})}finally{p(!1)}},ae=async()=>{if(n?.user){if(!I.trim()){u.error("Motif requis",{description:"Le motif de suppression est obligatoire",duration:3e3});return}try{p(!0);const s=await fetch(`${b}/users/item.php?id=${i}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({deletion_reason:I.trim()})}),t=await s.json();if(!s.ok)throw new Error(t?.error||"Échec de la suppression");u.success("Compte supprimé",{description:"Le compte a été supprimé définitivement",duration:2e3}),setTimeout(()=>c("/admin/players"),2e3)}catch(s){u.error("Erreur lors de la suppression",{description:s.message}),p(!1)}}},ne=async()=>{if(n?.user)try{p(!0);const s=await fetch(`${b}/users/sanction.php`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_id:parseInt(i),sanction_type:h,reason:D,custom_points:h==="custom"?-100:void 0})}),t=await s.json();if(!s.ok)throw new Error(t?.error||"Échec de l'application de la sanction");const d=await fetch(`${b}/users/admin_profile.php?id=${i}`,{credentials:"include"}),x=await d.json();d.ok&&o(x),j(!1),v(""),u.success("Sanction appliquée",{description:`Type: ${t.sanction.type} | Points déduits: ${t.sanction.points_deducted} | Nouveaux points: ${t.sanction.new_points}`,duration:5e3})}catch(s){u.error("Erreur lors de l'application de la sanction",{description:s.message})}finally{p(!1)}},y=[{value:"warning",label:"Avertissement",points:-50,description:"Comportement inapproprié"},{value:"minor_offense",label:"Infraction mineure",points:-100,description:"Langage inapproprié, non-respect des règles"},{value:"major_offense",label:"Infraction majeure",points:-250,description:"Triche, comportement abusif"},{value:"cheating",label:"Triche détectée",points:-500,description:"Utilisation de logiciels de triche"},{value:"harassment",label:"Harcèlement",points:-400,description:"Harcèlement d'autres joueurs"},{value:"account_sharing",label:"Partage de compte",points:-200,description:"Partage de compte non autorisé"},{value:"spam",label:"Spam",points:-75,description:"Messages répétitifs ou non sollicités"},{value:"custom",label:"Sanction personnalisée",points:-100,description:"Raison personnalisée"}],q=E&&n?.user&&E.id===n.user.id;if(F)return e.jsxs(r,{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",renderId:"render-40b086a1",as:"div",children:[e.jsx(A,{userType:"admin",currentPage:"players"}),e.jsx(r,{className:"lg:pl-64",renderId:"render-d7298024",as:"div",children:e.jsx(r,{className:"p-4 lg:p-8 flex items-center justify-center min-h-screen",renderId:"render-051089f3",as:"div",children:e.jsx(r,{className:"text-white text-xl",renderId:"render-ea1748b1",as:"div",children:"Chargement..."})})})]});if(k)return e.jsxs(r,{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",renderId:"render-0d6aae1b",as:"div",children:[e.jsx(A,{userType:"admin",currentPage:"players"}),e.jsx(r,{className:"lg:pl-64",renderId:"render-000e8fb8",as:"div",children:e.jsxs(r,{className:"p-4 lg:p-8",renderId:"render-9b0dea59",as:"div",children:[e.jsxs(r,{className:"bg-red-500/20 border border-red-400/30 rounded-2xl p-6 text-red-200 flex items-center space-x-3",renderId:"render-5b620c61",as:"div",children:[e.jsx(X,{className:"w-6 h-6"}),e.jsx(r,{renderId:"render-752ce440",as:"span",children:k})]}),e.jsxs(r,{onClick:()=>c("/admin/players"),className:"mt-4 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-xl text-white transition-colors flex items-center space-x-2",renderId:"render-42fac823",as:"button",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-1d25a81f",as:"span",children:"Retour aux joueurs"})]})]})})]});if(!n||!n.user)return null;const{user:a,statistics:f,recent_history:C}=n;return e.jsxs(r,{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",renderId:"render-3e1d93ab",as:"div",children:[e.jsx(A,{userType:"admin",currentPage:"players"}),e.jsx(r,{className:"lg:pl-64",renderId:"render-1ea40325",as:"div",children:e.jsxs(r,{className:"p-4 lg:p-8",renderId:"render-67ecf96a",as:"div",children:[e.jsxs(r,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",renderId:"render-71625179",as:"div",children:[e.jsxs(r,{onClick:()=>c("/admin/players"),className:"px-4 py-2 bg-white/10 hover:bg-white/20 rounded-xl text-white transition-colors flex items-center space-x-2",renderId:"render-810bb453",as:"button",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-54f39d00",as:"span",children:"Retour aux joueurs"})]}),!q&&e.jsxs(r,{className:"flex flex-wrap gap-3",renderId:"render-73cccfcb",as:"div",children:[e.jsxs(r,{onClick:()=>j(!0),className:"px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 border border-yellow-400/30 rounded-xl text-yellow-400 transition-colors flex items-center space-x-2",title:"Appliquer une sanction",renderId:"render-8c2105cf",as:"button",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-f70254bb",as:"span",children:"Sanctionner"})]}),a.status==="active"?e.jsxs(r,{onClick:()=>g(!0),className:"px-4 py-2 bg-orange-500/20 hover:bg-orange-500/30 border border-orange-400/30 rounded-xl text-orange-400 transition-colors flex items-center space-x-2",title:"Désactiver l'utilisateur (réinitialise les points)",renderId:"render-fd14c4c3",as:"button",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-c3d13cb2",as:"span",children:"Désactiver"})]}):e.jsxs(r,{onClick:()=>g(!0),className:"px-4 py-2 bg-green-500/20 hover:bg-green-500/30 border border-green-400/30 rounded-xl text-green-400 transition-colors flex items-center space-x-2",title:"Réactiver l'utilisateur",renderId:"render-95435c86",as:"button",children:[e.jsx(ce,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-2bd14f0d",as:"span",children:"Réactiver"})]}),e.jsxs(r,{onClick:()=>L(!0),className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 border border-red-400/30 rounded-xl text-red-400 transition-colors flex items-center space-x-2",title:"Supprimer définitivement",renderId:"render-2a4c099d",as:"button",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-f4391229",as:"span",children:"Supprimer"})]})]})]}),!q&&e.jsx(r,{className:"bg-blue-500/10 border border-blue-400/30 rounded-2xl p-4 mb-6",renderId:"render-b6d17235",as:"div",children:e.jsxs(r,{className:"flex items-start space-x-3",renderId:"render-f6be308e",as:"div",children:[e.jsx(X,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs(r,{className:"text-sm text-blue-200",renderId:"render-fe51a836",as:"div",children:[e.jsx(r,{className:"font-semibold mb-1",renderId:"render-0d86dce7",as:"p",children:"Note pour l'administrateur :"}),e.jsxs(r,{renderId:"render-7d7944c3",as:"p",children:["Vous pouvez appliquer des sanctions qui réduiront les points du joueur selon la gravité de l'infraction.",e.jsx(r,{className:"text-blue-100",renderId:"render-aef97faa",as:"strong",children:" Désactiver un compte réinitialise automatiquement tous les points à 0."})," Les sanctions disponibles incluent : avertissement (-50 pts), infractions mineures/majeures, triche, harcèlement, partage de compte, spam, ou une sanction personnalisée."]})]})]})}),e.jsx(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-8 mb-8",renderId:"render-58c0752b",as:"div",children:e.jsxs(r,{className:"flex flex-col lg:flex-row items-start lg:items-center space-y-4 lg:space-y-0 lg:space-x-6",renderId:"render-59ed82d7",as:"div",children:[e.jsxs(r,{className:"relative",renderId:"render-122555db",as:"div",children:[e.jsx(r,{src:le(a.avatar_url,a.username),alt:a.username,className:"w-24 h-24 rounded-full border-4 border-white/20",renderId:"render-70a3bc48",as:"img"}),e.jsx(r,{className:`absolute -bottom-2 -right-2 w-8 h-8 bg-gradient-to-r ${B(a.level)} rounded-full flex items-center justify-center`,renderId:"render-935c6f04",as:"div",children:e.jsx(G,{className:"w-4 h-4 text-white"})})]}),e.jsxs(r,{className:"flex-1",renderId:"render-225f486b",as:"div",children:[e.jsxs(r,{className:"flex items-center space-x-3 mb-2",renderId:"render-f44d1b45",as:"div",children:[e.jsx(r,{className:"text-3xl font-bold text-white",renderId:"render-b9378643",as:"h1",children:a.username}),re(a.role),ee(a.status)]}),e.jsxs(r,{className:"flex flex-wrap items-center gap-4 text-gray-300 mb-4",renderId:"render-1744d40b",as:"div",children:[e.jsxs(r,{className:"flex items-center space-x-2",renderId:"render-dd2e78e5",as:"div",children:[e.jsx(me,{className:"w-4 h-4"}),e.jsx(r,{renderId:"render-d42aefb6",as:"span",children:a.email})]}),e.jsxs(r,{className:"flex items-center space-x-2",renderId:"render-6afe826f",as:"div",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsxs(r,{renderId:"render-111d48a7",as:"span",children:["Membre depuis le ",$(a.join_date)]})]}),e.jsxs(r,{className:"flex items-center space-x-2",renderId:"render-581a872e",as:"div",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsxs(r,{renderId:"render-97cbea08",as:"span",children:["Dernière activité: ",$(a.last_active)]})]})]}),e.jsxs(r,{className:`inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r ${B(a.level)} rounded-full text-white font-semibold`,renderId:"render-84427e70",as:"div",children:[e.jsx(G,{className:"w-5 h-5"}),e.jsx(r,{renderId:"render-e268f10d",as:"span",children:a.level||"Gamer"})]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-2xl p-6 text-center min-w-[200px]",renderId:"render-9acb384d",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-center space-x-2 mb-2",renderId:"render-828fb987",as:"div",children:[e.jsx(_,{className:"w-6 h-6 text-white"}),e.jsx(r,{className:"text-white font-semibold",renderId:"render-76050dee",as:"span",children:"Points Totaux"})]}),e.jsx(r,{className:"text-4xl font-bold text-white",renderId:"render-dc181bcb",as:"div",children:a.points.toLocaleString()})]})]})}),e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",renderId:"render-0e6fce3e",as:"div",children:[e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-9481d136",as:"div",children:[e.jsxs(r,{className:"flex items-center space-x-3 mb-2",renderId:"render-653ac849",as:"div",children:[e.jsx(K,{className:"w-6 h-6 text-green-400"}),e.jsx(r,{className:"text-white font-semibold",renderId:"render-fb4b9578",as:"h3",children:"Activités Totales"})]}),e.jsx(r,{className:"text-3xl font-bold text-green-400",renderId:"render-c01d50b0",as:"p",children:f.total_activities})]}),e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-159e4ce8",as:"div",children:[e.jsxs(r,{className:"flex items-center space-x-3 mb-2",renderId:"render-0a4adbeb",as:"div",children:[e.jsx(ue,{className:"w-6 h-6 text-blue-400"}),e.jsx(r,{className:"text-white font-semibold",renderId:"render-24537bd6",as:"h3",children:"Points Gagnés"})]}),e.jsx(r,{className:"text-3xl font-bold text-blue-400",renderId:"render-6c106edc",as:"p",children:f.points_earned.toLocaleString()})]}),e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-a6b60c35",as:"div",children:[e.jsxs(r,{className:"flex items-center space-x-3 mb-2",renderId:"render-925721d5",as:"div",children:[e.jsx(M,{className:"w-6 h-6 text-purple-400"}),e.jsx(r,{className:"text-white font-semibold",renderId:"render-ccf5d1fc",as:"h3",children:"Jours Actifs"})]}),e.jsx(r,{className:"text-3xl font-bold text-purple-400",renderId:"render-f2eb994b",as:"p",children:f.active_days})]}),e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-c8c152e9",as:"div",children:[e.jsxs(r,{className:"flex items-center space-x-3 mb-2",renderId:"render-f1120d0d",as:"div",children:[e.jsx(pe,{className:"w-6 h-6 text-cyan-400"}),e.jsx(r,{className:"text-white font-semibold",renderId:"render-42308670",as:"h3",children:"Récompenses Réclamées"})]}),e.jsx(r,{className:"text-3xl font-bold text-cyan-400",renderId:"render-19f5d13e",as:"p",children:f.total_redemptions})]})]}),e.jsx(r,{className:"grid grid-cols-1 gap-6 mb-8",renderId:"render-428f563a",as:"div",children:e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-6dc26e82",as:"div",children:[e.jsxs(r,{className:"flex items-center space-x-3 mb-4",renderId:"render-eb4e170f",as:"div",children:[e.jsx(_,{className:"w-6 h-6 text-orange-400"}),e.jsx(r,{className:"text-white font-semibold text-lg",renderId:"render-ce21cac8",as:"h3",children:"Points Dépensés"})]}),e.jsx(r,{className:"text-3xl font-bold text-orange-400",renderId:"render-be8777b4",as:"p",children:f.points_spent.toLocaleString()})]})}),e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-11e0a2da",as:"div",children:[e.jsxs(r,{className:"text-2xl font-bold text-white mb-6 flex items-center space-x-2",renderId:"render-f39eb6c2",as:"h2",children:[e.jsx(K,{className:"w-6 h-6 text-blue-400"}),e.jsx(r,{renderId:"render-834a3efc",as:"span",children:"Historique Récent"})]}),C&&C.length>0?e.jsx(r,{className:"space-y-3",renderId:"render-c8aaa312",as:"div",children:C.map(s=>e.jsx(r,{className:"bg-white/5 border border-white/10 rounded-xl p-4 hover:bg-white/10 transition-colors",renderId:"render-2ee91b13",as:"div",children:e.jsxs(r,{className:"flex items-center justify-between",renderId:"render-44e10b30",as:"div",children:[e.jsxs(r,{className:"flex-1",renderId:"render-21c6f0cb",as:"div",children:[e.jsx(r,{className:"text-white font-medium",renderId:"render-ee639f11",as:"p",children:s.description}),e.jsx(r,{className:"text-gray-400 text-sm",renderId:"render-a06774d2",as:"p",children:Z(s.created_at)})]}),e.jsxs(r,{className:`flex items-center space-x-1 ${s.points>=0?"text-green-400":"text-red-400"}`,renderId:"render-7cb79905",as:"div",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsxs(r,{className:"font-bold text-lg",renderId:"render-21ac61ae",as:"span",children:[s.points>=0?"+":"",s.points]})]})]})},s.id))}):e.jsx(r,{className:"text-gray-400 text-center py-8",renderId:"render-8de01646",as:"p",children:"Aucune activité récente"})]})]})}),V&&e.jsx(r,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",renderId:"render-7bef3bbd",as:"div",children:e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-8 max-w-md w-full",renderId:"render-f4e3ca0c",as:"div",children:[e.jsxs(r,{className:"text-2xl font-bold text-white mb-4",renderId:"render-31b807a4",as:"h3",children:[a.status==="active"?"Désactiver":"Réactiver"," l'utilisateur"]}),e.jsx(r,{className:"text-gray-300 mb-2",renderId:"render-59718d94",as:"p",children:a.status==="active"?`Êtes-vous sûr de vouloir désactiver ${a.username} ? L'utilisateur ne pourra plus se connecter.`:`Êtes-vous sûr de vouloir réactiver ${a.username} ? L'utilisateur pourra à nouveau se connecter.`}),a.status==="active"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{className:"bg-orange-500/10 border border-orange-400/20 rounded-lg p-3 mb-4",renderId:"render-9557c6d7",as:"div",children:e.jsxs(r,{className:"text-orange-200 text-sm",renderId:"render-1437c135",as:"p",children:[e.jsx(r,{className:"text-orange-400",renderId:"render-450d54b9",as:"strong",children:"⚠️ Attention :"})," La désactivation réinitialisera automatiquement tous les points de l'utilisateur à 0."]})}),e.jsxs(r,{className:"mb-6",renderId:"render-0433eb47",as:"div",children:[e.jsxs(r,{className:"block text-white font-semibold mb-2",renderId:"render-81c2e9ca",as:"label",children:["Motif de désactivation ",e.jsx(r,{className:"text-red-400",renderId:"render-64ce36c3",as:"span",children:"*"})]}),e.jsx(r,{value:w,onChange:s=>N(s.target.value),placeholder:"Expliquez pourquoi ce compte est désactivé (ce message sera affiché à l'utilisateur lors de sa tentative de connexion)",rows:"4",className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-400",required:!0,renderId:"render-28eb4fab",as:"textarea"}),e.jsx(r,{className:"text-gray-400 text-xs mt-1",renderId:"render-4f659a14",as:"p",children:"Ce message sera affiché à l'utilisateur s'il tente de se connecter."})]})]}),a.status==="inactive"&&e.jsx(r,{className:"text-gray-400 text-sm mb-6",renderId:"render-1343014c",as:"p",children:"Les points ne seront pas restaurés lors de la réactivation."}),e.jsxs(r,{className:"flex space-x-4",renderId:"render-a4ed41ae",as:"div",children:[e.jsx(r,{onClick:()=>{g(!1),N("")},disabled:m,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-700 text-white py-3 rounded-xl font-semibold transition-colors",renderId:"render-98d6460d",as:"button",children:"Annuler"}),e.jsx(r,{onClick:se,disabled:m,className:`flex-1 ${a.status==="active"?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700"} disabled:opacity-50 text-white py-3 rounded-xl font-semibold transition-colors`,renderId:"render-9701aec4",as:"button",children:m?"Traitement...":"Confirmer"})]})]})}),W&&e.jsx(r,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",renderId:"render-f138da3f",as:"div",children:e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-yellow-400/30 rounded-2xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto",renderId:"render-2241f6f8",as:"div",children:[e.jsxs(r,{className:"flex items-center space-x-3 mb-4",renderId:"render-8c1eb989",as:"div",children:[e.jsx(r,{className:"p-3 bg-yellow-500/20 rounded-full",renderId:"render-b43c8ded",as:"div",children:e.jsx(z,{className:"w-6 h-6 text-yellow-400"})}),e.jsx(r,{className:"text-2xl font-bold text-white",renderId:"render-bbf4173b",as:"h3",children:"Appliquer une sanction"})]}),e.jsxs(r,{className:"text-gray-300 mb-4",renderId:"render-847ccb4d",as:"p",children:["Sanctionnez ",e.jsx(r,{className:"text-white",renderId:"render-19828301",as:"strong",children:a.username})," pour comportement inapproprié."]}),e.jsxs(r,{className:"mb-4",renderId:"render-e29802e2",as:"div",children:[e.jsx(r,{className:"block text-white font-semibold mb-2",renderId:"render-f0cf43a6",as:"label",children:"Type de sanction :"}),e.jsx(r,{value:h,onChange:s=>U(s.target.value),className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-yellow-400",renderId:"render-01714dd6",as:"select",children:y.map(s=>e.jsxs(r,{value:s.value,className:"bg-slate-800",renderId:"render-09c93ad4",as:"option",children:[s.label," (",s.points," points)"]},s.value))})]}),e.jsxs(r,{className:"bg-yellow-500/10 border border-yellow-400/20 rounded-lg p-3 mb-4",renderId:"render-4d75b885",as:"div",children:[e.jsxs(r,{className:"text-yellow-200 text-sm",renderId:"render-856fc4a4",as:"p",children:[e.jsx(r,{renderId:"render-9db45126",as:"strong",children:"Description :"})," ",y.find(s=>s.value===h)?.description]}),e.jsxs(r,{className:"text-yellow-300 text-sm mt-1",renderId:"render-3894fb69",as:"p",children:[e.jsx(r,{renderId:"render-6f9c206b",as:"strong",children:"Points qui seront déduits :"})," ",Math.abs(y.find(s=>s.value===h)?.points||0)]})]}),e.jsxs(r,{className:"mb-6",renderId:"render-46fd4a31",as:"div",children:[e.jsx(r,{className:"block text-white font-semibold mb-2",renderId:"render-f8b1dedf",as:"label",children:"Raison personnalisée (optionnel) :"}),e.jsx(r,{value:D,onChange:s=>v(s.target.value),placeholder:"Ajoutez une note spécifique sur cette sanction...",rows:"3",className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-400",renderId:"render-a8adbc23",as:"textarea"})]}),e.jsxs(r,{className:"flex space-x-4",renderId:"render-ccb11dcc",as:"div",children:[e.jsx(r,{onClick:()=>{j(!1),v(""),U("warning")},disabled:m,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-700 text-white py-3 rounded-xl font-semibold transition-colors",renderId:"render-edda533e",as:"button",children:"Annuler"}),e.jsx(r,{onClick:ne,disabled:m,className:"flex-1 bg-yellow-600 hover:bg-yellow-700 disabled:opacity-50 text-white py-3 rounded-xl font-semibold transition-colors",renderId:"render-67457531",as:"button",children:m?"Application...":"Appliquer la sanction"})]})]})}),H&&e.jsx(r,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",renderId:"render-1833e105",as:"div",children:e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-red-400/30 rounded-2xl p-8 max-w-md w-full",renderId:"render-35cd41c8",as:"div",children:[e.jsxs(r,{className:"flex items-center space-x-3 mb-4",renderId:"render-d1f5ef18",as:"div",children:[e.jsx(r,{className:"p-3 bg-red-500/20 rounded-full",renderId:"render-03fcab22",as:"div",children:e.jsx(Y,{className:"w-6 h-6 text-red-400"})}),e.jsx(r,{className:"text-2xl font-bold text-white",renderId:"render-97736f3e",as:"h3",children:"Supprimer l'utilisateur"})]}),e.jsxs(r,{className:"text-gray-300 mb-2",renderId:"render-45e16432",as:"p",children:[e.jsx(r,{className:"text-red-400",renderId:"render-3ecdb451",as:"strong",children:"Attention :"})," Cette action est irréversible !"]}),e.jsxs(r,{className:"text-gray-300 mb-4",renderId:"render-8af86cfc",as:"p",children:["Êtes-vous absolument sûr de vouloir supprimer définitivement ",e.jsx(r,{className:"text-white",renderId:"render-2f3e25c0",as:"strong",children:a.username})," ? Toutes les données associées seront perdues."]}),e.jsxs(r,{className:"mb-6",renderId:"render-4a949ee3",as:"div",children:[e.jsxs(r,{className:"block text-white font-semibold mb-2",renderId:"render-7c3bee97",as:"label",children:["Motif de suppression ",e.jsx(r,{className:"text-red-400",renderId:"render-095e9233",as:"span",children:"*"})]}),e.jsx(r,{value:I,onChange:s=>R(s.target.value),placeholder:"Expliquez pourquoi ce compte est supprimé (pour l'audit interne)",rows:"3",className:"w-full bg-white/10 border border-white/20 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-400",required:!0,renderId:"render-23756a33",as:"textarea"}),e.jsx(r,{className:"text-gray-400 text-xs mt-1",renderId:"render-5cb20260",as:"p",children:"Ce motif sera conservé dans les logs pour traçabilité."})]}),e.jsxs(r,{className:"flex space-x-4",renderId:"render-b8125641",as:"div",children:[e.jsx(r,{onClick:()=>{L(!1),R("")},disabled:m,className:"flex-1 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-700 text-white py-3 rounded-xl font-semibold transition-colors",renderId:"render-4044fe7d",as:"button",children:"Annuler"}),e.jsx(r,{onClick:ae,disabled:m,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white py-3 rounded-xl font-semibold transition-colors",renderId:"render-cdd23837",as:"button",children:m?"Suppression...":"Supprimer définitivement"})]})]})})]})}if(typeof window<"u"){const i={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const c=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},i,c),{get(n,o){return o in n?n[o]:void 0},has(){return!0}})}const Xe=de(function(c){const n=J();return e.jsx(ie,{children:e.jsx(fe,{...c,id:n.id})})});export{Xe as default};
