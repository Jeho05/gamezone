import{r as l,w}from"./react-vendor-BXH1ZKCn.js";import{j as e}from"./ui-vendor-CptTL0WJ.js";import{R as y}from"./layout-CA9ilw8C.js";import{C as r}from"./PolymorphicComponent-CmmJTj6d.js";import{N as u,C as _,a as P,T as A}from"./Navigation-C_UvFhfu.js";import{A as o}from"./apiBase-uKT1-15E.js";import{t as T}from"./index-DeIfEMOZ.js";import{T as C}from"./trending-up-DhekDyxE.js";import{S as B}from"./users-uhOgvxGK.js";import{Z as E}from"./zap-BvdYI7Va.js";import{T as R}from"./trophy-CUmIdvP5.js";import{A as g}from"./award-DbKRpCHq.js";import"./gamepad-D9JnDti4.js";import"./createLucideIcon-BCGXG0XW.js";import"./sparkles-BFQn3fMP.js";import"./x-BQPNjVqT.js";if(typeof window<"u"){const a={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const t=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},a,t),{get(d,n){return n in d?d[n]:void 0},has(){return!0}})}function S(){const[a,t]=l.useState(null),[d,n]=l.useState(null),[i,j]=l.useState([]),[x,N]=l.useState([]),[I,m]=l.useState(!0);l.useEffect(()=>{v()},[]);const v=async()=>{try{m(!0);const c=await(await fetch(`${o}/gamification/user_stats.php`,{credentials:"include"})).json();c.stats&&t(c.stats);const h=await(await fetch(`${o}/gamification/level_progress.php`,{credentials:"include"})).json();h.level&&n(h.level);const p=await(await fetch(`${o}/gamification/badges.php`,{credentials:"include"})).json();p.badges&&j(p.badges.slice(0,6));const f=await(await fetch(`${o}/gamification/points_transactions.php?limit=10`,{credentials:"include"})).json();f.transactions&&N(f.transactions)}catch(s){console.error(s),T.error("Erreur de chargement")}finally{m(!1)}};if(I)return e.jsxs(r,{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",renderId:"render-4f8f51e0",as:"div",children:[e.jsx(u,{userType:"player"}),e.jsx(r,{className:"lg:pl-64 flex items-center justify-center min-h-screen",renderId:"render-02bfb8fa",as:"div",children:e.jsxs(r,{className:"text-center",renderId:"render-1b0f8086",as:"div",children:[e.jsx(r,{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-purple-600 mb-4",renderId:"render-029161aa",as:"div"}),e.jsx(r,{className:"text-white",renderId:"render-1ed719b6",as:"p",children:"Chargement..."})]})})]});const b=d?d.current_level_points/d.next_level_points*100:0;return e.jsxs(r,{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",renderId:"render-7345ff91",as:"div",children:[e.jsx(u,{userType:"player",currentPage:"progression"}),e.jsx(r,{className:"lg:pl-64",renderId:"render-4152ae63",as:"div",children:e.jsxs(r,{className:"p-4 lg:p-8",renderId:"render-27b7d22b",as:"div",children:[e.jsxs(r,{className:"mb-8",renderId:"render-788b43cf",as:"div",children:[e.jsxs(r,{className:"text-3xl lg:text-4xl font-bold text-white mb-2 flex items-center gap-3",renderId:"render-b14a6dee",as:"h1",children:[e.jsx(C,{className:"w-10 h-10 text-purple-400"}),e.jsx(r,{renderId:"render-465d8486",as:"span",children:"Ma Progression"})]}),e.jsx(r,{className:"text-gray-300",renderId:"render-50ca9fda",as:"p",children:"Suis ton évolution et débloque des récompenses"})]}),e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 mb-6",renderId:"render-c8b86d2d",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-4",renderId:"render-ecc756c8",as:"div",children:[e.jsxs(r,{className:"flex items-center gap-3",renderId:"render-67693f22",as:"div",children:[e.jsx(r,{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center",renderId:"render-905215e6",as:"div",children:e.jsx(B,{className:"w-8 h-8 text-white"})}),e.jsxs(r,{renderId:"render-655d2f6a",as:"div",children:[e.jsxs(r,{className:"text-2xl font-bold text-white",renderId:"render-b4811486",as:"h2",children:["Niveau ",d?.level||1]}),e.jsx(r,{className:"text-purple-300",renderId:"render-7b75caf1",as:"p",children:d?.level_name||"Débutant"})]})]}),e.jsxs(r,{className:"text-right",renderId:"render-69aedf2d",as:"div",children:[e.jsx(r,{className:"text-3xl font-bold text-yellow-400",renderId:"render-638d8997",as:"p",children:a?.points||0}),e.jsx(r,{className:"text-gray-300 text-sm",renderId:"render-c6326458",as:"p",children:"Points Totaux"})]})]}),e.jsxs(r,{className:"space-y-2",renderId:"render-cf18bf99",as:"div",children:[e.jsxs(r,{className:"flex justify-between text-sm text-gray-300",renderId:"render-cf932e38",as:"div",children:[e.jsxs(r,{renderId:"render-7b3cd4db",as:"span",children:["Progression vers Niveau ",(d?.level||1)+1]}),e.jsxs(r,{renderId:"render-8f296ce3",as:"span",children:[d?.current_level_points||0," / ",d?.next_level_points||100," pts"]})]}),e.jsx(r,{className:"h-4 bg-gray-700 rounded-full overflow-hidden",renderId:"render-8cbb7517",as:"div",children:e.jsx(r,{className:"h-full bg-gradient-to-r from-purple-500 via-pink-500 to-blue-500 transition-all duration-500",style:{width:`${Math.min(b,100)}%`},renderId:"render-4b686133",as:"div"})}),e.jsx(r,{className:"text-xs text-gray-400 text-center",renderId:"render-3c785608",as:"p",children:b>=100?"🎉 Prêt pour le niveau suivant !":`Encore ${(d?.next_level_points||100)-(d?.current_level_points||0)} points`})]})]}),e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",renderId:"render-2e320a97",as:"div",children:[e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-21ef525b",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-2",renderId:"render-3bab55e2",as:"div",children:[e.jsx(E,{className:"w-8 h-8 text-yellow-400"}),e.jsx(r,{className:"text-3xl font-bold text-white",renderId:"render-e7b8a262",as:"span",children:a?.games_played||0})]}),e.jsx(r,{className:"text-gray-300 font-semibold",renderId:"render-f854858a",as:"p",children:"Jeux Joués"})]}),e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-888be308",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-2",renderId:"render-6ab8fcb4",as:"div",children:[e.jsx(R,{className:"w-8 h-8 text-purple-400"}),e.jsx(r,{className:"text-3xl font-bold text-white",renderId:"render-d95209f8",as:"span",children:a?.tournaments_won||0})]}),e.jsx(r,{className:"text-gray-300 font-semibold",renderId:"render-dd162e2f",as:"p",children:"Tournois Gagnés"})]}),e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-f5c33be2",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-2",renderId:"render-482c65d8",as:"div",children:[e.jsx(g,{className:"w-8 h-8 text-blue-400"}),e.jsx(r,{className:"text-3xl font-bold text-white",renderId:"render-62b1ceeb",as:"span",children:i.filter(s=>s.earned_at).length})]}),e.jsx(r,{className:"text-gray-300 font-semibold",renderId:"render-21515e9b",as:"p",children:"Badges Débloqués"})]}),e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-060cfe69",as:"div",children:[e.jsxs(r,{className:"flex items-center justify-between mb-2",renderId:"render-d850d05b",as:"div",children:[e.jsx(_,{className:"w-8 h-8 text-green-400"}),e.jsx(r,{className:"text-3xl font-bold text-white",renderId:"render-65a5443f",as:"span",children:a?.events_attended||0})]}),e.jsx(r,{className:"text-gray-300 font-semibold",renderId:"render-6c129a27",as:"p",children:"Événements"})]})]}),e.jsxs(r,{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",renderId:"render-4d42238d",as:"div",children:[e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-f41bfc99",as:"div",children:[e.jsxs(r,{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",renderId:"render-db91b5fb",as:"h3",children:[e.jsx(g,{className:"w-6 h-6 text-purple-400"}),"Badges Récents"]}),e.jsx(r,{className:"space-y-3",renderId:"render-98443c63",as:"div",children:i.length>0?i.map(s=>e.jsxs(r,{className:`flex items-center gap-3 p-3 rounded-lg ${s.earned_at?"bg-purple-500/20 border border-purple-400/30":"bg-gray-800/50"}`,renderId:"render-2662109f",as:"div",children:[e.jsx(r,{className:"text-3xl",renderId:"render-0fd4a844",as:"div",children:s.icon||"🏆"}),e.jsxs(r,{className:"flex-1",renderId:"render-4e04d778",as:"div",children:[e.jsx(r,{className:`font-semibold ${s.earned_at?"text-white":"text-gray-400"}`,renderId:"render-203653ad",as:"p",children:s.name}),e.jsx(r,{className:"text-xs text-gray-400",renderId:"render-521b2a02",as:"p",children:s.description})]}),s.earned_at&&e.jsx(r,{className:"text-green-400 text-sm font-semibold",renderId:"render-89725852",as:"div",children:"✓ Débloqué"})]},s.id)):e.jsx(r,{className:"text-gray-400 text-center py-4",renderId:"render-46f4a6de",as:"p",children:"Aucun badge pour le moment"})})]}),e.jsxs(r,{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-6e881bd6",as:"div",children:[e.jsxs(r,{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",renderId:"render-dfbd7c88",as:"h3",children:[e.jsx(P,{className:"w-6 h-6 text-yellow-400"}),"Activité Récente"]}),e.jsx(r,{className:"space-y-2 max-h-96 overflow-y-auto",renderId:"render-2c6a0fd0",as:"div",children:x.length>0?x.map((s,c)=>e.jsxs(r,{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",renderId:"render-5d88c13e",as:"div",children:[e.jsxs(r,{className:"flex-1",renderId:"render-99c6d727",as:"div",children:[e.jsx(r,{className:"text-white text-sm font-medium",renderId:"render-c2a1b251",as:"p",children:s.reason}),e.jsx(r,{className:"text-gray-400 text-xs",renderId:"render-61a078c2",as:"p",children:new Date(s.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs(r,{className:`text-lg font-bold ${s.change_amount>0?"text-green-400":"text-red-400"}`,renderId:"render-d640ba75",as:"div",children:[s.change_amount>0?"+":"",s.change_amount]})]},c)):e.jsx(r,{className:"text-gray-400 text-center py-4",renderId:"render-6e971b22",as:"p",children:"Aucune activité récente"})})]})]}),e.jsxs(r,{className:"mt-6 bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6",renderId:"render-12184ec7",as:"div",children:[e.jsxs(r,{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",renderId:"render-2ae187b7",as:"h3",children:[e.jsx(A,{className:"w-6 h-6 text-pink-400"}),"Objectifs à Venir"]}),e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",renderId:"render-9b30145e",as:"div",children:[e.jsxs(r,{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-400/30 rounded-lg p-4",renderId:"render-76d2f9d3",as:"div",children:[e.jsx(r,{className:"text-2xl mb-2",renderId:"render-5ff04a59",as:"div",children:"🎮"}),e.jsx(r,{className:"text-white font-bold mb-1",renderId:"render-8b1f3b77",as:"h4",children:"Joueur Actif"}),e.jsx(r,{className:"text-gray-300 text-sm",renderId:"render-e175093d",as:"p",children:"Joue 10 jeux différents"}),e.jsxs(r,{className:"mt-2 text-purple-300 text-sm font-semibold",renderId:"render-fcd349a9",as:"div",children:[a?.games_played||0,"/10"]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-blue-400/30 rounded-lg p-4",renderId:"render-2426f631",as:"div",children:[e.jsx(r,{className:"text-2xl mb-2",renderId:"render-bd3f22a6",as:"div",children:"🏆"}),e.jsx(r,{className:"text-white font-bold mb-1",renderId:"render-c16b3c60",as:"h4",children:"Champion"}),e.jsx(r,{className:"text-gray-300 text-sm",renderId:"render-88131a33",as:"p",children:"Gagne 5 tournois"}),e.jsxs(r,{className:"mt-2 text-blue-300 text-sm font-semibold",renderId:"render-81445438",as:"div",children:[a?.tournaments_won||0,"/5"]})]}),e.jsxs(r,{className:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border border-yellow-400/30 rounded-lg p-4",renderId:"render-d31a0608",as:"div",children:[e.jsx(r,{className:"text-2xl mb-2",renderId:"render-36ae7232",as:"div",children:"💎"}),e.jsx(r,{className:"text-white font-bold mb-1",renderId:"render-cf93ab95",as:"h4",children:"Collectionneur"}),e.jsx(r,{className:"text-gray-300 text-sm",renderId:"render-8b446826",as:"p",children:"Obtiens 10 badges"}),e.jsxs(r,{className:"mt-2 text-yellow-300 text-sm font-semibold",renderId:"render-3195251b",as:"div",children:[i.filter(s=>s.earned_at).length,"/10"]})]})]})]})]})})]})}if(typeof window<"u"){const a={NEXT_PUBLIC_API_BASE:"https://votre-domaine.infinityfreeapp.com/api",NEXT_PUBLIC_KKIAPAY_PUBLIC_KEY:"072b361d25546db0aee3d69bf07b15331c51e39f",NEXT_PUBLIC_KKIAPAY_SANDBOX:"0"};globalThis.process??={};const t=globalThis.process.env??{};globalThis.process.env=new Proxy(Object.assign({},a,t),{get(d,n){return n in d?d[n]:void 0},has(){return!0}})}const Q=w(function(t){return e.jsx(y,{children:e.jsx(S,{...t})})});export{Q as default};
