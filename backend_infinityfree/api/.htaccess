# CORS handled entirely by PHP (config.php)
# Let PHP send headers for all requests including OPTIONS

# Ensure PHP files are processed
<FilesMatch "\.php$">
    SetHandler application/x-httpd-php
</FilesMatch>

# Environment variables for PHP (accessible via getenv())
# Note: InfinityFree lit les variables depuis le fichier .env
<IfModule mod_env.c>
    SetEnv APP_ENV production
    SetEnv SESSION_SAMESITE Lax
    SetEnv SESSION_SECURE 0
</IfModule>

# Disable directory listing
Options -Indexes

# Protect sensitive files
<FilesMatch "^(\.env|\.htaccess|\.gitignore)">
    Order allow,deny
    Deny from all
</FilesMatch>
